<!DOCTYPE html>
<html class="quickview " >
<head>
     <!-- Google Fonts -->
     <link href="//fonts.googleapis.com/css?family=Lato:800,700,600,500,400,300" rel="stylesheet" type="text/css">
     <link href='//fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
          
     <link rel="stylesheet" type="text/css" href="catalog/view/theme/logancee/css/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="catalog/view/theme/logancee/css/animate.css" />
<link rel="stylesheet" type="text/css" href="catalog/view/theme/logancee/css/eleganticons.css" />
<link rel="stylesheet" type="text/css" href="catalog/view/theme/logancee/css/simple-line-icons.css" />
<link rel="stylesheet" type="text/css" href="catalog/view/theme/logancee/css/stylesheet.css" />
<link rel="stylesheet" type="text/css" href="catalog/view/theme/logancee/css/responsive.css" />
<link rel="stylesheet" type="text/css" href="catalog/view/theme/logancee/css/owl.carousel.css" />
<link rel="stylesheet" type="text/css" href="catalog/view/theme/logancee/css/font-awesome.min.css" />
<link rel="stylesheet" type="text/css" href="catalog/view/javascript/jquery/datetimepicker/bootstrap-datetimepicker.min.css" />
<style type="text/css">
					
				body {
			background: #ffffff;
		}
						
	</style>

     <script type="text/javascript" src="catalog/view/theme/logancee/js/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="catalog/view/theme/logancee/js/jquery-migrate-1.2.1.min.js"></script>
<script type="text/javascript" src="catalog/view/theme/logancee/js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="catalog/view/theme/logancee/js/bootstrap.min.js"></script>
<script type="text/javascript" src="catalog/view/theme/logancee/js/jquery.elevateZoom-3.0.3.min.js"></script>
<script type="text/javascript" src="catalog/view/theme/logancee/js/common.js"></script>
<script type="text/javascript" src="catalog/view/javascript/jquery/datetimepicker/moment.js"></script>
<script type="text/javascript" src="catalog/view/javascript/jquery/datetimepicker/bootstrap-datetimepicker.min.js"></script>
<script type="text/javascript" src="catalog/view/theme/logancee/js/bootstrap-notify.min.js"></script>
     
     <link rel="stylesheet" type="text/css" href="/catalog/view/javascript/jquery/formstyler/jquery.formstyler.css" media="screen" />
     <link rel="stylesheet" type="text/css" href="/catalog/view/javascript/jquery/formstyler/jquery.formstyler.theme.css" media="screen" />
     <script type="text/javascript" src="/catalog/view/javascript/jquery/formstyler/jquery.formstyler.min.js"></script>
     
     <script type="text/javascript" src="catalog/view/extension/related_options/js/liveopencart.select_option_toggle.js?v=1513059520"></script>
     <script type="text/javascript" src="catalog/view/extension/related_options/js/liveopencart.related_options.js?v=1513059520"></script>

     <script type="text/javascript" src="catalog/view/theme/logancee/js/owl.carousel.min.js"></script>

	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<script src="catalog/view/theme/logancee/js/respond.min.js"></script>
	<![endif]-->
</head>
<body>

	
	<div id="notification-popupmaster" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Товар добавлен в корзину</h4>
            </div>
            <div class="modal-body">
                <p></p>
            </div>
            <div class="modal-footer">
			<center>
			<div style="float:right">
                <button type="button" style="margin-top:10px;" class="btn btn-default" data-dismiss="modal">Продолжить покупки <i class="fa fa-check"></i></button>
				<a href="/cart/" style="margin-top:3px;" class="btn btn-warning">Перейти в корзину <i class="fa fa-shopping-cart"></i></a>
                <a href="" style="margin-top:3px;" class="btn btn-success">Оформить заказ <i class="fa fa-credit-card"></i></a>
				</div>
				</center>
            </div>
        </div>
    </div>
</div> <!-- https://www.opencartmaster.com.br Desenvolvido por Denis Cunha -->
	

  <div class="product-info">
  	<div class="row">
  		<div class="col-sm-12">
  			<div class="row" id="quickview_product">
			    <script>
			    	$(document).ready(function(){
			    	    $('#ex1, .review-link').live('click', function () {
			    	         top.location.href = "http://evadavidova.ru/katalog/platya-midi/5509-plate-zhenskoe-vinnyy/";
			    	         return false;
			    	     });
			    	     
     			    	$('#image').elevateZoom({
     			    		zoomType: "inner",
     			    		cursor: "pointer",
     			    		zoomWindowFadeIn: 500,
     			    		zoomWindowFadeOut: 750
     			    	});
     
     			    	$('.thumbnails a, .thumbnails-carousel a').click(function() {
     			    		var smallImage = $(this).attr('data-image');
     			    		var largeImage = $(this).attr('data-zoom-image');
     			    		var ez =   $('#image').data('elevateZoom');	
     			    		ez.swaptheimage(smallImage, largeImage); 
     			    		return false;
     			    	});
			    	});
			    </script>
			    			    <div class="col-sm-6 popup-gallery">
			      <div class="row">
			      	  			      	  <div class="col-sm-2">
						<div class="image-additional thumbnails thumbnails-left clearfix">
							<ul>
							  						      <li><div class='item'><a href="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" class="popup-image" data-image="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg" data-zoom-image="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg"><img src="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg" title="5509 Платье женское винный" alt="5509 Платье женское винный" /></a></div></li>
							  						      			                  
						      <li><div class='item'><a href="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" class="popup-image" data-image="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" data-zoom-image="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg"><img 
      src="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg" title=" 
Цвет: винный" alt=" 
Цвет: винный"
       /></a></div></li>
						      			                  
						      <li><div class='item'><a href="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" class="popup-image" data-image="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" data-zoom-image="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg"><img 
      src="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg" title=" 
Цвет: винный" alt=" 
Цвет: винный"
       /></a></div></li>
						      			                  
						      <li><div class='item'><a href="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" class="popup-image" data-image="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" data-zoom-image="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg"><img 
      src="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg" title=" 
Цвет: винный" alt=" 
Цвет: винный"
       /></a></div></li>
						      			                  
						      <li><div class='item'><a href="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-837x1256.jpg" class="popup-image" data-image="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-837x1256.jpg" data-zoom-image="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-837x1256.jpg"><img 
      src="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-70x105.jpg" title=" 
Цвет: винный" alt=" 
Цвет: винный"
       /></a></div></li>
						      			                  
						      <li><div class='item'><a href="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" class="popup-image" data-image="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" data-zoom-image="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg"><img 
      src="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg" title=" 
Цвет: синий" alt=" 
Цвет: синий"
       /></a></div></li>
						      			                  
						      <li><div class='item'><a href="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" class="popup-image" data-image="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" data-zoom-image="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg"><img 
      src="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg" title=" 
Цвет: синий" alt=" 
Цвет: синий"
       /></a></div></li>
						      			                  
						      <li><div class='item'><a href="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" class="popup-image" data-image="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" data-zoom-image="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg"><img 
      src="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg" title=" 
Цвет: синий" alt=" 
Цвет: синий"
       /></a></div></li>
						      						  </ul>
						</div>
			      	  </div>
			      	  			      	  
				      <div class="col-sm-10">
				      						      <div class="product-image inner-cloud-zoom">
					      	 					      	 
					     	 <a href="#" title="5509 Платье женское винный" id="ex1"><img src="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg" title="5509 Платье женское винный" alt="5509 Платье женское винный" id="image" itemprop="image" data-zoom-image="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg" /></a>
					      </div>
					  	 				      </div>
				      
				      			      </div>
			    </div>

			    <div class="col-sm-6 product-center clearfix">
			     <div itemprop="offerDetails" itemscope itemtype="http://data-vocabulary.org/Offer">
			      <h2 class="product-name"><a href="#" class="review-link">5509 Платье женское винный</a></h2>
			      <span class="model">Код товара: <font id='product_model'>5509</font>      </span>
			      
			      <div class="row">
                                                  <div class="price col-sm-6">
                            <div class="main-price">
                                                                <span class="price-new"><span itemprop="price" id="price-old">7 030 р.</span></span>
                                                              </div>

                              <div class="other-price">
                                                                                                                              </div>
                           </div>
                                                                        <div class="review col-sm-6">
                                                        <div class="rating"><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i> <span class="rating-info"><a onclick="$('a[href=\'#tab-review\']').trigger('click'); $('html, body').animate({scrollTop:$('#tab-review').offset().top}, '500', 'swing');">0</a> | (0)</span>
                            <p class="rating-links"><a onclick="$('a[href=\'#tab-review\']').trigger('click'); $('html, body').animate({scrollTop:$('#tab-review').offset().top}, '500', 'swing');">Написать отзыв</a></p></div>
                          </div>
                       			       </div>
			     			     
			     <div id="product">
			      			      <div class="options">
			        			        			        			        <div class="form-group required">
			          <label class="control-label">Цвет</label>
			          <div id="input-option194">
			            			            <div class="radio radio-type-button2">
			              <label class="with-thumb">
			                <input type="radio" name="option[194]" value="472" checked="checked" />
			                <span class="active">			                								<span class="thumb"><img src="https://evadavidova.ru/image/cache/catalog/image1C/ed/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg" title="винный" alt="винный" class="img-thumbnail" /></span>
			                 
			                </span>
			              </label>
			            </div>
			            			            <div class="radio radio-type-button2">
			              <label>
			                <input type="radio" name="option[194]" value="2618"  />
			                <span class="">изумруд			                 
			                </span>
			              </label>
			            </div>
			            			            <div class="radio radio-type-button2">
			              <label class="with-thumb">
			                <input type="radio" name="option[194]" value="2619"  />
			                <span class="">			                								<span class="thumb"><img src="https://evadavidova.ru/image/cache/catalog/image1C/b6/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg" title="синий" alt="синий" class="img-thumbnail" /></span>
			                 
			                </span>
			              </label>
			            </div>
			            			            <div class="radio radio-type-button2">
			              <label>
			                <input type="radio" name="option[194]" value="2617"  />
			                <span class="">черный			                 
			                </span>
			              </label>
			            </div>
			            			            
			            			            <script type="text/javascript">
			                 $(document).ready(function(){
			                      $('#input-option194').on('click', 'span', function () {

				// << Related Options / Связанные опции
				if ( $(this).siblings(':radio, :checkbox').is(':disabled') ) {
					return
				}
				// >> Related Options / Связанные опции
			
			                           $('#input-option194 span').removeClass("active");
			                           $(this).addClass("active");
			                      });
			                 });
			            </script>
			            			          </div>
			        </div>
			        			        			        			        			        			        			       				       				       				        			        			        			        <div class="form-group required">
			          <label class="control-label">Размер</label>
			          <div id="input-option193">
			            			            <div class="radio radio-type-button2">
			              <label>
			                <input type="radio" name="option[193]" value="471"  />
			                <span class="">36			                 
			                </span>
			              </label>
			            </div>
			            			            <div class="radio radio-type-button2">
			              <label>
			                <input type="radio" name="option[193]" value="473"  />
			                <span class="">38			                 
			                </span>
			              </label>
			            </div>
			            			            <div class="radio radio-type-button2">
			              <label>
			                <input type="radio" name="option[193]" value="474"  />
			                <span class="">40			                 
			                </span>
			              </label>
			            </div>
			            			            <div class="radio radio-type-button2">
			              <label>
			                <input type="radio" name="option[193]" value="475"  />
			                <span class="">42			                 
			                </span>
			              </label>
			            </div>
			            			            <div class="radio radio-type-button2">
			              <label>
			                <input type="radio" name="option[193]" value="476"  />
			                <span class="">44			                 
			                </span>
			              </label>
			            </div>
			            			            <div class="radio radio-type-button2">
			              <label>
			                <input type="radio" name="option[193]" value="477"  />
			                <span class="">46			                 
			                </span>
			              </label>
			            </div>
			            			            <div class="radio radio-type-button2">
			              <label>
			                <input type="radio" name="option[193]" value="478"  />
			                <span class="">48			                 
			                </span>
			              </label>
			            </div>
			            			            
			            			            <script type="text/javascript">
			                 $(document).ready(function(){
			                      $('#input-option193').on('click', 'span', function () {

				// << Related Options / Связанные опции
				if ( $(this).siblings(':radio, :checkbox').is(':disabled') ) {
					return
				}
				// >> Related Options / Связанные опции
			
			                           $('#input-option193 span').removeClass("active");
			                           $(this).addClass("active");
			                      });
			                 });
			            </script>
			            			          </div>
			        </div>
			        			        			        			        			        			        			       				       				       				        			      </div>
			      			      
			      			      
			      <div class="cart">
			        <div class="add-to-cart clearfix">
			               			          <div class="quantity">
                              <span class="pdp-label">Количество</span>
     			              <select name="quantity" class="styleme">
                                       			                      <option value="1" selected="selected">1</option>
     			                       			                      <option value="2">2</option>
     			                       			                      <option value="3">3</option>
     			                       			                      <option value="4">4</option>
     			                       			                      <option value="5">5</option>
     			                    
     			              </select>
     			          </div>
     			          <input type="hidden" name="product_id" value="97" />
     			          <div class="add-product-buttons">
                              <div class="row">
                                  <div class="col-sm-6">
                                      <input type="button" value="В корзину" id="button-cart" rel="97" data-loading-text="Загрузка..." class="button hover-effect07" />
                                  </div>
                                  <div class="col-sm-6">
                                                                                  <div class="links">
                                                													<span class="add-to-wishlist" onclick="wishlist.add('97');return false;"><i class="im im-like"></i></span>
                                                                                                                                            </div>
                                                                        </div>
                              </div>
                              
                                                               <div class="share">
                                    <!-- AddThis Button BEGIN -->
                                        <div class="addthis_toolbox addthis_default_style">
                                            <a class="addthis_button_vk"><i class="fa fa-vk"></i></a>
                                            <a class="addthis_button_facebook"><i class="fa fa-facebook"></i></a>
                                            <a class="addthis_button_twitter"><i class="fa fa-twitter"></i></a>
                                            <a class="addthis_button_odnoklassniki_ru"><i class="fa fa-odnoklassniki"></i></a>
                                        </div>
                                        <script type="text/javascript" src="https://s7.addthis.com/js/300/addthis_widget.js"></script>
                                    <!-- AddThis Button END --> 
                                 </div>
                                     
                          </div>
			          			        </div>

                    <div class="description-section ">
                        <span class="pdp-label">Описание</span>
     			        <div itemprop="description">Бархатное плать с запахом</div>
                    </div>
                    
                                        						<div class="description-section">
							<span class="pdp-label"></span>
							<div>зима</div>
						</div>
					              
			      </div>
			     </div><!-- End #product -->
			     
		    </div>
    	</div>
    </div>
  </div>

			

			      

      <!-- Product Option Image PRO module << -->
      <script type="text/javascript"><!--

	//PREFIXES
	//additional_ - additional code
	//replace_ - replace standard code
	//if_ - replace standard code if returns true
	//custom_ - custom function to call inside custom theme object

	var poip_product_default = function() {
		this.init();
		if ( typeof(this.custom_init) == 'function') {
			this.custom_init();
		}
	}
	
	poip_product_default.prototype.init = function(call_cnt) {
		var this_object = this;
		
		call_cnt = call_cnt || 1;
		if ( typeof($) == 'undefined' ) { // try to wait for jquery initialization
			if ( call_cnt < 100 ) {
				setTimeout(function(){
					this_object.init(call_cnt+1);
				}, 100);
			}
			return; // no jquery
		}
		
		this_object.set_visible_images_timer_id = false;
		this_object.set_visible_images_first_call = true;
		this_object.update_zoom_image_timer_id = false;
		this_object.function_event_option_value_select_is_still_working = false;
		this_object.function_event_option_value_select_timer_id = 0;
		
		// determine option name prefix
		this_object.option_prefix = "option";
		if ($('[name^="option_oc["]').length) {
			this_object.option_prefix = "option_oc";
		}
		this_object.option_prefix_length = this_object.option_prefix.length;
		
		// usage of colorbox
		this_object.use_refresh_colorbox = this_object.useColorboxRefreshing();
		
				
		// get standard main image data		
		this_object.std_src = this_object.getMainImage().attr('src');
		this_object.std_href = this_object.getMainImage().closest('a').attr('href');
		
		if ( typeof(this_object.additional_setMainImageInitialHref) == 'function' ) {
			this_object.additional_setMainImageInitialHref();
		}
				
		// main product image may be included to the list, we should take it in account
		if ( typeof(this_object.additional_useAddInitialMainImageToPoipImages) != 'function' || this_object.additional_useAddInitialMainImageToPoipImages() ) {
			this_object.getAdditionalImagesBlock().find('a').each(function() {
				var img_src = '';
				if ( $(this).attr('data-zoom-image') ) {
					img_src = $(this).attr('data-zoom-image');
				} else if ( $(this).attr('data-image') ) {
					img_src = $(this).attr('data-image');
				} else if ( $(this).attr('href') && $(this).attr('href').substr(0,1) != "#" ) {
					img_src = $(this).attr('href');
				}
				if (img_src) {
					if ( !this_object.getImageBySrc(img_src, 'popup') && !this_object.getImageBySrc(img_src, 'main') ) {
						poip_images.unshift({"product_id":"97","product_image_id":["-1"],"popup":"","main":"","thumb":""});
						poip_images[0].popup = img_src;
						poip_images[0].main = img_src;
						poip_images[0].thumb = img_src;
					}
				}
			});
		}
		
		if ( typeof(this_object.additional_useOldOCStyleInit) == 'function' && this_object.additional_useOldOCStyleInit() ) {
		
			// old style
			
			this_object.checkEventsForSelects(true);
			
			$('div.options').click(function(){
				this_object.checkEventsForSelects();
			});
			
			// more compatible
			$(document).on('change', 'input:radio[name^="'+this_object.option_prefix+'["]', function() {
				this_object.eventOptionValueSelect(this);
			});
			/*
			$("input[type=radio][name^="+this_object.option_prefix+"\\[]").each(function (i) {
				$(this).change(function(){
					this_object.eventOptionValueSelect(this);
				})
			});
			*/
			
			if ( typeof(this_object.additional_makeInitActions) == 'function' ) {
				this_object.additional_makeInitActions();
			}
			
			$("input[type=checkbox][name^="+this_object.option_prefix+"\\[]").each(function (i) {
				$(this).change(function(){
					this_object.eventOptionValueSelect(this);
				})
			})
			
			if (poip_settings['img_hover']) {
				if ( typeof(this_object.replace_turnOnAdditionalImagesMouseover) == 'function' ) {
					this_object.replace_turnOnAdditionalImagesMouseover();
				} else { // standard way
					// more compatible
					this_object.getAdditionalImagesBlock().on('mouseover', 'a' ,function(){
						this_object.eventAdditionalImageMouseover(this);
					});
				}
			}
	
			
			$(document).ready(function(){
			
				this_object.setVisibleImages(this_object.getBasicVisibleImages());
				this_object.refreshPopupImages();
			
				if ( typeof(this_object.additional_documentReady) == 'function' ) {
					this_object.additional_documentReady();
				}
				
				this_object.setDefaultOptionsByURL();
				
			});
		} else {
	
			// new style
			if ( $.magnificPopup ) {
				this_object.getAdditionalImagesBlock().find('a').each(function(){
					if ( this_object.hrefIsVideo( $(this).attr('href') ) ) {
						if ( !$(this).hasClass('mfp-iframe') ) {
							$(this).addClass('mfp-iframe');
						}
					}
				});
			}
			
			$('#product, .product-options, .product-info .options, .product-info').on('change', 'select[name^="'+this_object.option_prefix+'["], input[type=radio][name^="'+this_object.option_prefix+'["], input[type=checkbox][name^="'+this_object.option_prefix+'["]', function(){
				this_object.eventOptionValueSelect(this);
			});
			
			if ( typeof(this_object.additional_makeInitActions) == 'function' ) {
				this_object.additional_makeInitActions();
			}
			
			if (poip_settings['img_hover']) {
				if ( typeof(this_object.replace_turnOnAdditionalImagesMouseover) == 'function' ) {
					this_object.replace_turnOnAdditionalImagesMouseover();
				} else { // standard way
					// more compatible
					this_object.getAdditionalImagesBlock().on('mouseover', 'a' ,function(){
						this_object.eventAdditionalImageMouseover(this);
					});
				}
			}
			
			$(document).ready(function(){
			
				this_object.setVisibleImages(this_object.getBasicVisibleImages());
				this_object.refreshPopupImages();
				
				if ( typeof(this_object.additional_documentReady) == 'function' ) {
					this_object.additional_documentReady();
				}
				
				this_object.setDefaultOptionsByURL();
				
			});
		}
	}
	
	poip_product_default.prototype.getProductOptionIdByName = function(name) {
		var this_object = this;
		return name.substr(this_object.option_prefix_length+1, name.indexOf(']')-(this_object.option_prefix_length+1) )
	}
	
	// checkbox_variant : 1 - without checkbox, 2 - only checkbox
	poip_product_default.prototype.getSelectedOptionValues = function(checkbox_variant, product_option_id) {
		var this_object = this;
	
		var values = [];
		
		var select_string = "";
		if (!checkbox_variant || checkbox_variant==1) {
			select_string += 'select[name^="'+this_object.option_prefix+'["], input[type=radio][name^="'+this_object.option_prefix+'["]:checked';
		}
		if (!checkbox_variant || checkbox_variant==2) {
			select_string += (select_string=='' ? '' : ', ') + 'input[type=checkbox][name^="'+this_object.option_prefix+'["]:checked';
		}
		$(select_string).each(function () {
			var current_product_option_id = this_object.getProductOptionIdByName($(this).attr('name'));

			if ( (!product_option_id && $.inArray(current_product_option_id, poip_product_option_ids) != -1)
			|| (product_option_id && product_option_id == current_product_option_id) ) {
				if ($(this).val()) {
					values.push($(this).val());
				}
			}
		});

		return values;
	}
	
	poip_product_default.prototype.addToArrayIfNotExists = function(val, arr) { // object always by link
		if ( $.inArray(val, arr) == -1 ) {
			arr.push(val);
		}
	}
	
	poip_product_default.prototype.getBasicVisibleImages = function(all_pov_images) {
		var this_object = this;
		
		// images which should be visible before options filter applying
		var global_visible_images = [];
		var images_by_settings = [];
		var selected_values = this_object.getSelectedOptionValues(); 
		for (var i=0; i<poip_images.length; i++) {
			var poip_img = poip_images[i];
			if ( poip_img['product_image_id'] || !poip_img['product_option_id'] || !poip_img['product_option_id'].length ) { // стандартное доп.изображение 
				this_object.addToArrayIfNotExists(poip_images[i]['popup'], global_visible_images);
			} else {
				for (var i_product_option_id in poip_img['product_option_id']) {
					if ( !poip_img['product_option_id'].hasOwnProperty(i_product_option_id) ) continue;
					var product_option_id = poip_img['product_option_id'][i_product_option_id];
				//for (var product_option_id in poip_options_settings) {
					
					// check for "no value" (display the image if its option is not selected)
					if ( poip_img['product_option_value_id'] && poip_img['product_option_value_id'].length && $.inArray(-product_option_id, poip_img['product_option_value_id']) != -1 ) {
						this_object.addToArrayIfNotExists(poip_images[i]['popup'], global_visible_images);
					} else if (poip_options_settings[product_option_id]['img_use'] == 1 || all_pov_images) { // вкл изображения всех значений
						this_object.addToArrayIfNotExists(poip_images[i]['popup'], global_visible_images);
					} else if (poip_options_settings[product_option_id]['img_use'] == 2) { // вкл изображения только выбранных значений
						for (var j=0; j<selected_values.length; j++) {
							if ($.inArray(selected_values[j], poip_images[i]['product_option_value_id'])!=-1) {
								this_object.addToArrayIfNotExists(poip_images[i]['popup'], global_visible_images);
							}
						}
					}
				}
			}
		}
		
		if ( typeof(this_object.additional_addMainImageInitialHrefToArray) == 'function' ) {
			global_visible_images = this_object.additional_addMainImageInitialHrefToArray(global_visible_images);
		}
		
		return global_visible_images;
	}
	
	poip_product_default.prototype.getIntersectionOfArrays = function(arr1, arr2) {
		var this_object = this;
		
		var match = [];
		$.each(arr1, function (i, val1) {
			if ($.inArray(val1, arr2) != -1 && $.inArray(val1, match) == -1) {
				match.push(val1);
			}
		});
		
		return match;
	}
	
	poip_product_default.prototype.getConcatenationOfArraysUnique = function(arr1, arr2) {
		var arr = arr1.slice();
		for ( var i_arr2 in arr2 ) {
			var value = arr2[i_arr2];
			if ( $.inArray(value, arr) == -1 ) {
				arr.push(value);
			}
		}
		return arr;
	}
	
	poip_product_default.prototype.getBasicImagesForMainImage = function() {
		var this_object = this;
		
		var images_for_main_image = this_object.getBasicVisibleImages(true);
		if ( this_object.std_href ) {
			if ( $.inArray(this_object.std_href, images_for_main_image) == -1 ) {
				images_for_main_image = [this_object.std_href].concat(images_for_main_image);
			}
		}
		return images_for_main_image;
	}
	
	poip_product_default.prototype.getImagesForProductOptionValueIds = function(pov_ids) {
		var this_object = this;
		
		var images = [];
		for (var i_poip_images in poip_images) {
			var poip_img = poip_images[i_poip_images];
			if (poip_img['product_option_value_id'] && poip_img['product_option_value_id'].length) {
				for (var i_pov_ids in pov_ids) {
					var product_option_value_id = pov_ids[i_pov_ids];
					if ($.inArray(product_option_value_id, poip_img['product_option_value_id']) !== -1 && $.inArray(poip_img['popup'], images) == -1 ) {
						images.push(poip_img['popup']);
					}
				}
			}
		}
		return images;
	}
	
	poip_product_default.prototype.getImagesForNotSelectedProductOption = function(product_option_id) {
		var this_object = this;
		
		var images = [];
		for (var i_poip_images in poip_images) {
			var poip_img = poip_images[i_poip_images];
			if ( poip_img['product_option_value_id'] && poip_img['product_option_value_id'].length ) {
				// -product_option_id is used for images checked to be shown when option is not selected
				if ( $.inArray(-product_option_id, poip_img['product_option_value_id']) != -1 ) {
					images.push(poip_img['popup']);
				}
			}
		}
		return images;
	}
	
	poip_product_default.prototype.getImagesNotLinkedToProductOption = function(product_option_id) {
		var this_object = this;
		
		var images = [];
		for (var i_poip_images in poip_images) {
			var poip_img = poip_images[i_poip_images];
			
			if ( !poip_img['product_option_id'] || $.inArray(product_option_id, poip_img['product_option_id']) == -1 ) {
				if ( $.inArray(poip_img['popup'], images) == -1 ) {
					images.push(poip_img['popup']);
				}
			}
		}
		return images;
	}
	
	poip_product_default.prototype.changeAvailableImages = function(product_option_id) {
		var this_object = this;
	
		if ($.inArray(product_option_id, poip_product_option_ids)==-1) {
			return;
		}
		
		var global_visible_images = this_object.getBasicVisibleImages();
		var current_visible_images = global_visible_images.slice();
		
		var images_for_main_image = this_object.getBasicImagesForMainImage();
		var all_images_of_selected_option_values = [];
		//var images_for_main_image = this_object.getBasicVisibleImages(true);
		
		for (var i in poip_product_option_ids) {
			
			if (!poip_product_option_ids.hasOwnProperty(i)) continue;
		
			var current_product_option_id = poip_product_option_ids[i];
			var current_product_option_selected_values = this_object.getSelectedOptionValues(0, current_product_option_id);
			
			if ( current_product_option_selected_values.length ) {
				var images_to_show = this_object.getImagesForProductOptionValueIds(current_product_option_selected_values);
			} else {
				var images_to_show = this_object.getImagesForNotSelectedProductOption(current_product_option_id);
			}
			
			if ( images_to_show.length ) {
				if ( poip_options_settings[current_product_option_id]['img_use'] ) {
				//if ( poip_options_settings[current_product_option_id]['img_use'] && current_product_option_selected_values.length )	{
					if ( poip_options_settings[current_product_option_id]['img_limit'] == 1 ) {	 // intersection
						current_visible_images = this_object.getIntersectionOfArrays(current_visible_images, images_to_show);
					} else if ( poip_options_settings[current_product_option_id]['img_limit'] == 2 ) {	 // intersection with all images not linked to the option
						// add all images not linked with the selected options
						var images_to_show_with_other_images = this_object.getConcatenationOfArraysUnique(images_to_show, this_object.getImagesNotLinkedToProductOption(current_product_option_id) );
						current_visible_images = this_object.getIntersectionOfArrays(current_visible_images, images_to_show_with_other_images);
					} else { // addition
						current_visible_images = this_object.getConcatenationOfArraysUnique(current_visible_images, images_to_show);
					}
					all_images_of_selected_option_values = this_object.getConcatenationOfArraysUnique(all_images_of_selected_option_values, images_to_show);
				}
				if ( poip_options_settings[current_product_option_id]['img_change'] ) {
					images_for_main_image = this_object.getIntersectionOfArrays(images_for_main_image, images_to_show);
				}
			}
		}
		if (current_visible_images.length == 0) {
			// no images suitable for all selected option values at the same time
			// try to use just an amount of images suitable for every selected option value
			current_visible_images = this_object.getIntersectionOfArrays(global_visible_images, all_images_of_selected_option_values);
			if (current_visible_images.length == 0) {
				// still no images? use global
				current_visible_images = global_visible_images;
			}
		}
		
		this_object.setVisibleImages(current_visible_images);

		if ( images_for_main_image.length == 0 ) { // if there is no image suitable for all selected options
			var selected_pov_ids = this_object.getSelectedOptionValues(0, product_option_id);
			if ( selected_pov_ids.length ) { // try to get images for the currently selected option only
				images_for_main_image = this_object.getImagesForProductOptionValueIds(selected_pov_ids)
			}
			if ( images_for_main_image.length == 0 ) { // still no image? get basic
				images_for_main_image = this_object.getBasicImagesForMainImage();
			}
			
			//images_for_main_image = this_object.getBasicVisibleImages(true);
		}
		
		return images_for_main_image;
	}
	
	poip_product_default.prototype.refreshPopupImages = function() {
		var this_object = this;
	
		if ( typeof(this_object.replace_refreshPopupImages) == 'function' ) {
			return this_object.replace_refreshPopupImages();
		}
	
		if ( typeof(this_object.if_refreshPopupImages) == 'function' ) {
			if ( this_object.if_refreshPopupImages() ) {
				return;
			}
		}
		
		if (!poip_settings['img_gal']) {
			if ( $('li.image-additional').length ) { // OC 2.0 new-style default
				
				// exclude main image from gallery (main image should be present in additional images already)
				$('.thumbnails').magnificPopup({
					type:'image',
					delegate: '.image-additional a',
					gallery: {
						enabled:true
					}
				});
				this_object.getMainImage().off('click');
				//this_object.getMainImage().off('click', this_object.eventMainAImgClick);
				this_object.getMainImage().on('click', function(event) {
					this_object.eventMainAImgClick(event, this);
				});
				//this_object.getMainImage().on('click', this_object.eventMainAImgClick);
			}
			return;
		}
		
		
		if ( typeof(this_object.if_refreshPopupImagesBody) == 'function' && this_object.if_refreshPopupImagesBody() ) {
			// nothing
		} else if ( $('li.image-additional').length ) { // OC 2.0 new-style default
			// OC 2.0 DEFAULT instead of colorbox in OC 1.X
			
			if ( typeof($.magnificPopup) != 'undefined' ) {
				$('.thumbnails').magnificPopup({
					type:'image',
					delegate: '.image-additional a:visible',
					gallery: {
						enabled:true
					}
				});
			}
			
			this_object.getMainImage().off('click');
			//this_object.getMainImage().off('click', this_object.eventMainAImgClick);
			this_object.getMainImage().on('click', function(event) { this_object.eventMainAImgClick(event, this); } );
			
		} else { // OC 1.X and OC 2.0 old-style themes
			this_object.refreshColorboxImages();
		}
	}
	
	poip_product_default.prototype.eventMainAImgClick = function(event, element) {
		var this_object = this;
		
		if ( typeof(this_object.if_eventMainAImgClick) == 'function' ) {
			var if_result = this_object.if_eventMainAImgClick(event, element);
			if ( if_result ) {
				return if_result;
			}
		}
		
		event.preventDefault();
		
		var main_href = $(element).parent().attr('href');
		var img_cnt = 0;
		this_object.getAdditionalImagesBlock().find('a').each(function(){
			if ($(this).attr('href') == main_href) {
				$(this).click();
				return;
			}
			img_cnt++;
		});
	}
	
	poip_product_default.prototype.sortImagesBySelectedOptions = function(p_images) {
		var this_object = this;
	
		var images = [];
		
		if ( poip_settings['options_images_edit'] == 1 ) { // use basic sort order (set on the Image tab)

			for ( var i_poip_images in poip_images ) {
				if ( !poip_images.hasOwnProperty(i_poip_images) ) continue;
				var poip_img = poip_images[i_poip_images];
				if ( $.inArray(poip_img['popup'], p_images) != -1 && $.inArray(poip_img['popup'], images) == -1 ) {
					images.push(poip_img['popup']);
				}
			}
			
		} else { // use option sort order (from the Option tab)

			var pov_ids = this_object.getSelectedOptionValues();
            		
			for (var i_pov_ids in pov_ids) {
				if ( !pov_ids.hasOwnProperty(i_pov_ids) ) continue;
				var pov_id = pov_ids[i_pov_ids];

				if (poip_images_by_options && poip_images_by_options[pov_id] && poip_images_by_options[pov_id].length) {
					for (var i in poip_images_by_options[pov_id]) {
						if ( !poip_images_by_options[pov_id].hasOwnProperty(i) ) continue;
					
						if (poip_images_by_options[pov_id][i]['image']) {
							var image = this_object.getImageBySrc(poip_images_by_options[pov_id][i]['image'],'image');
							if (image && image['popup'] && $.inArray(image['popup'], p_images) != -1 && $.inArray(image['popup'], images) == -1) {
								images.push(image['popup']);
							}
						}	
					}
				}
			}
		}
        

		/* venta
		for (var i in p_images) {
			if ( !p_images.hasOwnProperty(i) ) continue;
		
			if ( $.inArray(p_images[i], images) == -1 ) {
				images.push(p_images[i]);
			}
		}
*/
		return images;
	}
	
	// fn_svi
	poip_product_default.prototype.setVisibleImages = function(images_param) {
		var this_object = this;
	
		var images = this_object.sortImagesBySelectedOptions(images_param);
		var result = '';
        
        
        console.log(images);
		
		if ( typeof(this_object.replace_setVisibleImages) == 'function' ) {
			return this_object.replace_setVisibleImages(images);
			
		// << DEFAULT OC 2.0 STYLE	
		} else if ( $('li.image-additional').length ) { // OC 2.0 default
			var shown_img = [];
			this_object.getAdditionalImagesBlock().find('a').each( function(){
				var href = $(this).attr('href');
				if ( !href ) {
					href = $(this).attr('data-image');
				}
				if ( $.inArray( href, images) != -1 && $.inArray( href, shown_img) == -1) {
					$(this).show();
					shown_img.push(href);
				} else {
					$(this).hide();
				}
			});
		// >> DEFAULT OC 2.0 STYLE	
		
		
		// << originally theme 422 compatibility, currently common	
		} else if ($('div[class=image-additional]').find('ul[id=image-additional]').length) {

			// make inages list copy
			if ( !$('#image-additional-copy').length ) {
				$('div[class=image-additional]').after("<div id=\"image-additional-copy\" style=\"display: none;\">"+$('div[class=image-additional]').find('ul[id=image-additional]').html()+"</div>");
			}
			
			// check is image list update needed
			var new_html = '';
			var new_images = [];
			$('#image-additional-copy').find('a').each( function(){
				if ($.inArray( $(this).attr('data-image'), images) != -1 || $.inArray(decodeURIComponent($(this).attr('data-image')), images) != -1) {
					// anchors have parents = "li"
					new_html += "<li>"+$(this).parent().html()+"</li>";
					new_images.push($(this).attr('data-image'));
				}
			});
			
			// there may be double images, so make groupping
			var images_changed = $('#image-additional').find('a').length != new_images.length;
			var same_images_count = 0;
			if (!images_changed) {
				$('#image-additional').find('a').each( function(){
					if ($.inArray( $(this).attr('data-image'), images) != -1 || $.inArray(decodeURIComponent($(this).attr('data-image')), images) != -1) {
						same_images_count++;
					}
				});
				images_changed = same_images_count != new_images.length;
			}
			
			if (images_changed) {	
				
				$('div[class=image-additional]').html("<ul id=\"image-additional\">"+new_html+"</ul>");
				
				if ($('#image-additional').find('a').length) {
					setTimeout( function () {
						$('#image-additional').bxSlider({
							pager:false,
							controls:true,
							slideMargin:10,
							minSlides: 3,
							maxSlides: 3,
							slideWidth:70,
							infiniteLoop:false,
							moveSlides:1
						});
						
						$("#zoom_01").elevateZoom({gallery:'image-additional', cursor: 'pointer', galleryActiveClass: 'active', imageCrossfade: true}); 
						//pass the images to Fancybox
						$("#zoom_01").bind("click", function(e) {  
							var ez =   $('#zoom_01').data('elevateZoom');	
							$.fancybox(ez.getGalleryList());
							return false;
						});
						
					}, 0);
				}
			}
			// >> theme 422 compatibility
		
			// << originally lexus superstore compatibility, currently some themes	
		} else if ($('div.image-additional').find('div.item').find('a').length) {
    
			var shown_thumb = [];
			$('div.image-additional').find('div.item').find('a').each( function(){
				if (($.inArray( this.href, images) != -1 || $.inArray(decodeURIComponent(this.href), images) != -1) && $.inArray( this.href, shown_thumb) == -1) {
					$(this).parents('li').show();
					shown_thumb.push(this.href);
				} else {
					$(this).parents('li').hide();
					
				}
			});
           
            var shown_img = [];
          
            $('[class^="product-product-"] .product-image').each( function(){
                var image = $(this).find('img').data('zoom-image');
                //alert(image);
				if (($.inArray( image, images) != -1 || $.inArray(decodeURIComponent(image), images) != -1) && $.inArray( image, shown_img) == -1) {
					$(this).show();
					shown_img.push(image);
				} else {
					$(this).hide();
					
				}
			});
          
            $('#image, .zoom').elevateZoom({
                zoomType: "inner",
     			сursorursor: "pointer",
     			zoomWindowFadeIn: 500,
     			zoomWindowFadeOut: 750
            });    
            
            var shown_modal_thumb = [];
            $('.sliderProductModule .owl-thumbs img').each( function(){
                var image = $(this).data('big-image');
                //alert(image);
				if (($.inArray( image, images) != -1 || $.inArray(decodeURIComponent(image), images) != -1) && $.inArray( image, shown_modal_thumb) == -1) {
					$(this).show();
					shown_modal_thumb.push(image);
				} else {
					$(this).hide();
					
				}
			});
                    
            
             $('.sliderProductModule .owl-carousel').owlCarousel('destroy');
            
            $('.sliderProductModule .owl-carousel').html('');
            
            $.each(shown_img,function(index,value){
                $('.sliderProductModule .owl-carousel').prepend('<img src="'+ value +'" class="modal-slide image-0" />');
            });
                   
             $('.sliderProductModule .owl-carousel').owlCarousel({
      items: 1,
      loop: true,
      nav:true,
      navText: ['',''],
      dots: false,
    thumbs: true,
    thumbsPrerendered: true
  });       
            
            
			// >> lexus superstore compatibility
			
			// << DEFAULT OC 1.X STYLE
		} else {	
	
			var shown_img = [];
			this_object.getAdditionalImagesBlock().find('a').each( function(){
			
				var current_href = $(this).attr('href');
				if ( (!current_href || current_href == '#') ) {
					if ($(this).attr('data-zoom-image')) {
						current_href = $(this).attr('data-zoom-image');
					} else {
						current_href = false;
					}
					if (current_href) {
						if ( $.inArray( current_href, images) != -1 && $.inArray( current_href, shown_img) == -1 ) {
							$(this).show();
							shown_img.push(current_href);
						} else {
							$(this).hide();
						}
					}
				}
			});
		}
		// >> DEFAULT OC 1.X STYLE
	}
	
	poip_product_default.prototype.elevateZoomDirectChange = function(img_click, timeout, elem_img, update_src) {
		var this_object = this;
	
		if ( typeof(elem_img)!='undefined' && elem_img.is('img') ) {
			var poip_img = this_object.getImageBySrc(img_click, 'popup');
			if ( elem_img.attr('data-zoom-image') ) {
				elem_img.attr('data-zoom-image', poip_img['popup']);
			}
			if ( elem_img.attr('data-image') ) {
				elem_img.attr('data-image', poip_img['main']);
			}
			if ( update_src ) {
				elem_img.attr('src', poip_img[update_src]);
			}
		}
		
		if ( timeout ) {
			setTimeout(function(){
				this_object.elevateZoomDirectChange(img_click, 0, elem_img)
				//$('.zoomContainer .zoomWindowContainer div').css({"background-image": 'url("'+img_click+'")'});
			}, timeout);
		} else {
			$('.zoomContainer').find('.zoomWindowContainer').find('div').css({"background-image": 'url("'+img_click+'")'});
			$('.zoomContainer').find('.zoomLens').css({"background-image": 'url("'+img_click+'")'});
		}
	}
	
	poip_product_default.prototype.elevateZoomClickImage = function(img_click, p_cnt) {
		var this_object = this;
	
		var have_elevate_zoom = false;
		
		//$('#image-additional').find('li').find('a').each( function () {
		this_object.getAdditionalImagesBlock().find('a').each( function () {
			if ($(this).attr('data-image') == img_click || $(this).attr('data-zoom-image') == img_click) {
				have_elevate_zoom = true;
			}
		});
		
		if (have_elevate_zoom) {
			this_object.elevateZoomClickImageDelayed(img_click);
		}
		return have_elevate_zoom;
	}
	
	poip_product_default.prototype.elevateZoomClickImageDelayed = function(img_click, p_cnt) {
		var this_object = this;
		
		var cnt = (typeof(p_cnt)=='undefined' ? 1 : p_cnt );
		if ( cnt <= 100 ) {
		
			if ( !$('.zoomContainer').length ) {
				setTimeout(function(){
					this_object.elevateZoomClickImageDelayed(img_click, cnt+1)
				}, 100);
				return;
			}
			// run
			setTimeout( function() {
				this_object.getAdditionalImagesBlock().find('a').each( function () {
					if ($(this).attr('data-image') == img_click || $(this).attr('data-zoom-image') == img_click) {
						//$(this).find('img').click();
						$(this).click();
						return false;
					}
				});
				
				if ( typeof(this_object.additional_afterElevateZoomClickImage) == 'function' ) {
					this_object.additional_afterElevateZoomClickImage(img_click);
				}
				
			}, 100);	
		}	
	}
	
	
	poip_product_default.prototype.cloudZoomClick = function(img_click, elem_check_param, additional_images_param) {
		var this_object = this;
			
		if ( typeof(elem_check_param) != 'undefined' && elem_check_param ) {
			elem = elem_check_param;
		} else {
			elem = $('#zoom1');
		}
		if ( typeof(additional_images_param) != 'undefined' && additional_images_param ) {
			additional_images = additional_images_param;
		} else {
			additional_images = $('.image-additional a[href]');
		}
		if ( elem.data('zoom') || elem.data('CloudZoom') ) {
			setTimeout(function(){
				additional_images.each(function(){
					if ($(this).is('img') && $(this).parent().is('a')) {
						var current_a = $(this).parent();
					} else {
						var current_a = $(this);
					}
					if ( current_a.is('img') ) {
						img_src = current_a.attr('src');
						poip_img = this_object.getImageBySrc(img_src, 'main');
						if (!poip_img) {
							poip_img = this_object.getImageBySrc(img_src, 'popup');
						}
						if (!poip_img) {
							poip_img = this_object.getImageBySrc(img_src, 'thumb');
						}
						if (poip_img) {
							href = poip_img['popup'];
						} else {
							href = img_src;
						}
					} else {
						href = current_a.attr('href');
					}
					
					if ( img_click == href ) {
						$(this).click();
						return false;
					}
				});
			}, 200);
		}
	}
	
	// << theme lexus superstore & journal2
	poip_product_default.prototype.autoZoomSwitch = function(img_click) {
		$('.image a #image').attr('data-zoom-image', img_click);
		$('.zoomWindowContainer').find('div').css({"background-image": 'url("'+img_click+'")'});
		if ($('.image a #image').data('zoom-image')) {
			$('.image a #image').data('zoom-image', img_click);
		}
	}
	// >> theme lexus superstore
	
	poip_product_default.prototype.getDocumentReadyState = function() {
		var this_object = this;

		if ( typeof(this_object.replace_getDocumentReadyState) == 'function' ) {
			return this_object.replace_getDocumentReadyState();
		}

		return document.readyState == 'complete';
	}
	
	poip_product_default.prototype.updateZoomImage = function(img_click, call_cnt) {
		var this_object = this;
		
		if ( this_object.update_zoom_image_timer_id ) {
			clearTimeout(this_object.update_zoom_image_timer_id);
		}
	
		if ( !this_object.getDocumentReadyState() ) {
			if ( typeof(call_cnt) == 'undefined' ) {
				call_cnt = 1;
			}  
			if ( call_cnt <= 100 ) {
				this_object.update_zoom_image_timer_id = setTimeout(function(){
					this_object.updateZoomImage(img_click, call_cnt+1)
				}, 100);
			}
			return;
		}
		if ( typeof(this_object.replace_updateZoomImage) == 'function' ) {
			return this_object.replace_updateZoomImage(img_click);
		}
		
		if ( typeof(this_object.if_updateZoomImage) == 'function' ) {
			if ( this_object.if_updateZoomImage(img_click) ) {
				return;
			}
		}
		
		// << elevatezoom compatibility / some old style themes
		if ( this_object.elevateZoomClickImage(img_click) ) return;
		// >> elevatezoom compatibility  / some old style themes
		
		// << some cloud-zoom-gallery themes compatibility
		$('div.image-additional').find('a.cloud-zoom-gallery').each( function () {
			if ($(this).attr('href') == img_click) {
				$(this).find('img').click();
				return false;
			}
		});
		// >> some cloud-zoom-gallery themes compatibility
		
		// << originally came from lexus superstore & pav fashion, but works for many themes
		if ($('.image a #image').attr('data-zoom-image') && $('.zoomWindowContainer').length && $('.zoomWindowContainer').find('div').length) {
			this_object.autoZoomSwitch(img_click);
			return; 
		} else if ($('.image a #image').attr('data-zoom-image')) {
			setTimeout(function () { this_object.autoZoomSwitch(img_click); }, 100);
			return;
		}
		
		// >> originally came from lexus superstore & pav fashion, but works for many themes
		
		// << originally came from start theme, but maybe works for other themes
		$('#image-additional').find('a[data-zoom-image]').each( function () { 
			if ($(this).attr('href') == img_click) {
				$(this).click();
				return;
			}
		});
		// >> originally came from start theme, but maybe works for other themes
		
	}
	
	poip_product_default.prototype.setMainImage = function(main, popup) {
		var this_object = this;
		
		if ( typeof(this_object.replace_setMainImage) == 'function' ) {
			return this_object.replace_setMainImage(main, popup);
		} else if ( typeof(this_object.if_setMainImage) == 'function' && this_object.if_setMainImage(main, popup) ) {
			// nothing 	
		} else {
			this_object.getMainImage().attr('src', main);
			this_object.getMainImage().closest('a').attr('href', popup);
		}
	}
	
	poip_product_default.prototype.refreshOptionImagesContainer = function(option, product_option_id) {
		var this_object = this;
	
		if ( typeof(this_object.if_refreshOptionImagesContainer) == 'function' && this_object.if_refreshOptionImagesContainer(option, product_option_id) ) {
			return;
		}
	
		$('#option-images-'+product_option_id).remove();
		if (!$('#option-images-'+product_option_id).length) {
			if ($('#option-'+product_option_id).length) { // OC 1.X style
				$('#option-'+product_option_id).append('<div id="option-images-'+product_option_id+'"></div>');
			} else { // OC 2.0 style
				$(option).after('<div id="option-images-'+product_option_id+'" style="margin-top: 10px;"></div>');
			}
		}
	}
	
	poip_product_default.prototype.changeVisibleImages = function(option) {
		var this_object = this;
	
		var product_option_id = option.name.substr(this_object.option_prefix_length+1, option.name.indexOf(']')-(this_object.option_prefix_length+1) );
		
		if ($.inArray(product_option_id, poip_product_option_ids)==-1) {
			return;
		}
		
		images_to_show = this_object.changeAvailableImages(product_option_id);
		
		var product_option_value_id = option.value;
		var selected_values = this_object.getSelectedOptionValues();
		
		if ( poip_options_settings[product_option_id] && poip_options_settings[product_option_id]['img_change'] ) {
			var main_image_switched = false;
			
			if ( images_to_show.length==0 && value && $.inArray(value, selected_values)==-1 && this_object.std_src && this_object.std_href) {
				this_object.setMainImage(this_object.std_src, this_object.std_href);
				main_image_switched = true;
			}
			
			if ( !main_image_switched ) {
			
				// if any option is selected then relevant image should be displayed (even if complete set of options caused visibility of all images)
				var images_to_check = [];
				if ( product_option_value_id && $.inArray(product_option_value_id, selected_values) != -1 ) {
					for ( var i_images_to_show in images_to_show ) {
						if ( !images_to_show.hasOwnProperty(i_images_to_show) ) continue;
						var image_to_show = images_to_show[i_images_to_show];
						var poip_img = this_object.getImageBySrc(image_to_show);
						if ( poip_img && poip_img['product_option_value_id'] && $.inArray(product_option_value_id, poip_img['product_option_value_id']) != -1 ) {
							images_to_check.push(image_to_show);
						}
					}
					/*
					for (var i=0;i<poip_images.length;i++) {
						if ( poip_images[i]['product_option_value_id'] && $.inArray(product_option_value_id, poip_images[i]['product_option_value_id']) != -1 && $.inArray(poip_images[i]['popup'], images_to_show) != -1 ) {
							images_to_check.push( images_to_show[$.inArray(poip_images[i]['popup'], images_to_show)] );
						}
					}
					*/
				}
				
				if ( !images_to_check.length ) {
					images_to_check = images_to_show;
				}
				
				var poip_img = this_object.getImageBySrc(images_to_check[0], 'popup');
				if ( poip_img ) {
					var image_main = poip_img['main'];
					var image_popup = poip_img['popup'];
				} else {
					var image_main = this_object.std_src;
					var image_popup = this_object.std_href;
				}
			
				this_object.setMainImage(image_main, image_popup);
				this_object.updateZoomImage(image_popup);
				
				main_image_switched = true;
				
			}
			
			/*
			if (!main_image_switched) {
			
				if (images_to_check && ( (product_option_value_id && $.inArray(product_option_value_id, selected_values)==-1)) ) { //если отменили выбор опции, то тоже показываем первую из доступных картинок
				
					for (var i=0;i<poip_images.length;i++) {
						if (images_to_check[0] == poip_images[i]['popup']) {
						
							this_object.setMainImage(poip_images[i]['main'], poip_images[i]['popup']);
							
							// << zoom compatibility
							this_object.updateZoomImage(poip_images[i]['popup']);
							// >> zoom compatibility
							
							main_image_switched = true;
						}
					}
				}
			}
			*/
			/*
			if (!main_image_switched) {
			
				// then on selected option images
				
				if (product_option_value_id && $.inArray(product_option_value_id, selected_values)!=-1) {
				
					// main image change
					if (poip_options_settings[product_option_id] && poip_options_settings[product_option_id]['img_change'] ) {
					
						if (poip_images_by_options[product_option_value_id]) {
						
							image = poip_images_by_options[product_option_value_id][0]['image'];
							
							for (var i=0;i<poip_images.length;i++) {
							
								if (image == poip_images[i]['image']) {
	
									this_object.setMainImage(poip_images[i]['main'], poip_images[i]['popup']);
									//this_object.getMainImage().attr('src', poip_images[i]['main']);
									//this_object.getMainImage().closest('a').attr('href', poip_images[i]['popup']);
									
									// << zoom compatibility
									this_object.updateZoomImage(poip_images[i]['popup']);
									// >> zoom compatibility
			
									break;
								}
							}
						}
					}
				}
			}
			*/
		}
		
		// images showing under options
		if (poip_options_settings[product_option_id] && poip_options_settings[product_option_id]['img_option'] ) {
			if (!$('product_option_images'+product_option_id).length) {

				// checkbox may have many values
				if ($(option).prop('tagName')=='INPUT' && $(option).prop('type')=='checkbox' ) {
					var values = [];
					$('input[type=checkbox][name^='+this_object.option_prefix+'\\['+product_option_id+'\\]]:checked').each( function() {
						values.push($(this).val());
					});
				} else {
					var values = [product_option_value_id];
				}
				
				this_object.refreshOptionImagesContainer(option, product_option_id);
				
				//var new_style_img_opt = !$('#option-images-'+product_option_id).length && !$('#option-'+product_option_id).length;
				
				$('#option-images-'+product_option_id).html('');
				for (var i=0; i<poip_images.length; i++) {
					for (var j=0; j<values.length; j++) {
						if (poip_images[i]['product_option_value_id'] && $.inArray(values[j], poip_images[i]['product_option_value_id']) != -1) {
							var html_image = '<a href="'+poip_images[i]['popup']+'" class="image-additional" style="margin: 5px;"><img src="'+poip_images[i]['thumb']+'" ></a>';
							$('#option-images-'+product_option_id).append(html_image);
						}
					}
				}
				
				// OC 2.0 new-style default
				if ( $('#option-images-'+product_option_id+' a').length ) {
				//if ( new_style_img_opt && $('#option-images-'+product_option_id+' a').length ) {
					if ( $.magnificPopup ) {
						$('#option-images-'+product_option_id).magnificPopup({
							type:'image',
							delegate: 'a',
							gallery: {
								enabled:true
							}
						});
					}
				}
			}
		}
		
		if ( typeof(this_object.additional_afterChangeVisibleImages) == 'function' ) {
			this_object.additional_afterChangeVisibleImages();
		}
		
	}
	
	poip_product_default.prototype.getProductOptionImages = function(product_option_id) {
		var this_object = this;
		
		var images = [];
		
		for (var product_option_value_id in poip_images_by_options) {
			for (var i in poip_images_by_options[product_option_value_id]) {
				if (poip_images_by_options[product_option_value_id][i]['product_option_id'] == product_option_id) {
					images.push(poip_images_by_options[product_option_value_id][i]['image']);
				}
			}	
		}
		return images;
	}
	
	poip_product_default.prototype.getProductOptionValueImages = function(product_option_value_id) {
		var this_object = this;
		
		var images = [];
		for (var i in poip_images_by_options[product_option_value_id]) {
			images.push(poip_images_by_options[product_option_value_id][i]['image']);
		}	
		return images;
	}
	
	poip_product_default.prototype.getImageSrc = function(image, src) {
		var this_object = this;
		
		for (var i in poip_images) {
			if (poip_images[i]['image'] == image) {
				return poip_images[i][src];
			}
		}
		return '';
	}
	
	poip_product_default.prototype.getImageBySrc = function(image, src) {
		var this_object = this;
		
		for (var i in poip_images) {
			if (poip_images[i][src] == image) {
				return poip_images[i];
			}
		}
		return '';
	}
	
	poip_product_default.prototype.updateDependentThumbnails = function() {
		var this_object = this;
		
		for (var j in poip_product_option_ids) {
			
			var product_option_id = poip_product_option_ids[j];
			
			if (poip_options_settings[product_option_id] && poip_options_settings[product_option_id]['dependent_thumbnails']
					&& poip_options_settings[product_option_id]['img_first'] == 1 ) {
				
				var option_images = this_object.getProductOptionImages(product_option_id);
				
				for (var i in poip_product_option_ids) {
					if ( !poip_product_option_ids.hasOwnProperty(i) ) continue;
					
					if (poip_product_option_ids[i] == product_option_id) continue;
					var current_product_option_id = poip_product_option_ids[i];
					
					var current_product_option_selected_values = this_object.getSelectedOptionValues(0, current_product_option_id);
					
					var current_option_images = [];
					for (var poip_images_i in poip_images) {
						if (poip_images[poip_images_i]['product_option_value_id'] && poip_images[poip_images_i]['product_option_value_id'].length) {
							for (var copsv_i in current_product_option_selected_values) {
								if ($.inArray(current_product_option_selected_values[copsv_i], poip_images[poip_images_i]['product_option_value_id']) !== -1
									&& $.inArray(poip_images[poip_images_i]['image'], current_option_images) == -1 ) {
									current_option_images.push(poip_images[poip_images_i]['image']);
								}
							}
						}
					}
					option_images = this_object.getIntersectionOfArrays(option_images, current_option_images);
				}
				
				if (option_images.length == 0) {
					option_images = this_object.getProductOptionImages(product_option_id);
				}
				
				// change options icons
				$('#product').find('input[type=radio][name="'+this_object.option_prefix+'['+product_option_id+']"], input[type=checkbox][name="'+this_object.option_prefix+'['+product_option_id+']"]').each(function(){
					option_value_images = this_object.getProductOptionValueImages($(this).val());
					if (option_value_images.length) {
						current_option_value_images	= this_object.getIntersectionOfArrays(option_value_images, option_images);
						if (current_option_value_images.length) {
							$(this).next('img').attr('src', this_object.getImageSrc(current_option_value_images[0], 'option_thumb') );
						} else {
							$(this).next('img').attr('src', this_object.getImageSrc(option_value_images[0], 'option_thumb') );
						}
					}
				});
			}
		}
	}
	
	poip_product_default.prototype.eventOptionValueSelect = function (option) {
		var this_object = this;
	
		clearTimeout(this_object.function_event_option_value_select_timer_id);
	
		// not run twice parallel
		if ( this_object.function_event_option_value_select_is_still_working || this_object.set_visible_images_timer_id !== false) {
			this_object.function_event_option_value_select_timer_id = setTimeout(function(){
				this_object.eventOptionValueSelect(option);
			}, 100);
			return;
		}
		
		this_object.function_event_option_value_select_is_still_working = true;
	
		this_object.changeVisibleImages(option);
		
		this_object.refreshPopupImages();
		
		this_object.updateDependentThumbnails();
		
		this_object.function_event_option_value_select_is_still_working = false;
		
	}
	
	// return IMG element relevant to main image
	poip_product_default.prototype.getMainImage = function() {
		var this_object = this;
	
		if ( typeof(this_object.replace_getMainImage) == 'function' ) {
			return this_object.replace_getMainImage();
		}
		if ( typeof(this_object.if_getMainImage) == 'function' ) {
			// function should return result of jQuery call ( $(...) ) or FALSE
			var if_result = this_object.if_getMainImage();
			if ( if_result ) {
				return if_result;
			}
		}
			
		var oc2_main_img = $('ul.thumbnails li').not('.image-additional').find('a img');
		if ( oc2_main_img.length ) { // OC 2.0 default
			return oc2_main_img;
		}
	
		if (!$('#image').length) {
			if ($('#main-image').length) {
				return $('#main-image'); // originally for theme start, actually common
			}
			if ($('div.product-info div.image a img').length) {
				return $('div.product-info div.image a img'); // originally for theme cosyone, actually common
			}
			if ($('div.row-product a img[itemprop="image"]').length) {
				return $('div.row-product a img[itemprop="image"]'); // originally for theme moneymaker, actually common
			}
		}
		return $('#image'); // by standard default
	}
	
	poip_product_default.prototype.getElementOuterHTML =  function(elem) {
		str = $('<div>').append(elem.clone()).html();
		//str = $(document.createElement("div")).append(elem.clone()).html();
		return str;
	}
	
	// returns element/elements (div, ul, li etc, depend on theme) containing links to additional images (а)
	poip_product_default.prototype.getAdditionalImagesBlock = function() {
		var this_object = this;
		
		if ( typeof(this_object.replace_getAdditionalImagesBlock) == 'function' ) {
			return this_object.replace_getAdditionalImagesBlock();
			//var additional_images_block = this_object.replace_getAdditionalImagesBlock();
			//if (additional_images_block) {
			//	return additional_images_block;
			//}
		}
		if ( typeof(this_object.if_getAdditionalImagesBlock) == 'function' ) {
			// returns result of jQuery call ( $(...) ) or FALSE
			var if_result = this_object.if_getAdditionalImagesBlock();
			if ( if_result ) {
				return if_result;
			}
		}
		
		
		
		if ( $('li.image-additional').length ) { // OC 2.0 default
			return $('li.image-additional');
		}
	
		if ( !$('div.image-additional').length ) {
			$('div.product-info div.image').after('<div class="image-additional"></div>');
		}
	
		return $('div.image-additional');
	}
	
	poip_product_default.prototype.getRefreshColorboxImagesVisible = function() {
		var this_object = this;
		
		if ( typeof(this_object.replace_getRefreshColorboxImagesVisible) == 'function' ) {
			return this_object.replace_getRefreshColorboxImagesVisible();
		}
		
		return this_object.getAdditionalImagesBlock().find('a:visible[href!="#"]');
	}
	
	poip_product_default.prototype.getColorboxSettings = function() {
		var this_object = this;
		
		if ( typeof(this_object.replace_getColorboxSettings) == 'function' ) {
			return this_object.replace_getColorboxSettings();
		}
		
		var colorbox_settings = false;
		try {
			var scripts = $('script:contains(".colorbox")');
			for (var i=0; i<scripts.length; i++) {
				var script_html  =$(scripts[i]).html();
				if (script_html.indexOf('$(\'.colorbox\').colorbox(') != -1 ) {
					var str_pos = script_html.indexOf('$(\'.colorbox\').colorbox(');
					var str = script_html.substr(str_pos+24);
					str_pos = str.indexOf('});');
					str = str.substr(0,str_pos+1);
					colorbox_settings = eval('('+str+')');
					break;
				}
			}
		} catch (e) {
			console.debug(e);
			colorbox_settings = false
		}
		
		if (!colorbox_settings || (typeof colorbox_settings) != 'object') {
			//console.log('colorbox settings not found');
			colorbox_settings = {
				overlayClose: true,
				opacity: 0.5,
				rel: "colorbox"
			};
		}
		
	}
	
	poip_product_default.prototype.refreshColorboxImages = function() {
		var this_object = this;
	
		// OC 2.0 not uses colorbox in default theme
		if (!this_object.use_refresh_colorbox) return;
		
		if (poip_settings['img_gal']) {
			
			if ( typeof(this_object.if_refreshColorboxImages) == 'function' && this_object.if_refreshColorboxImages() ) {
				return;
			}
		
			$('#poip_colorbox').remove();
			
			this_object.getAdditionalImagesBlock().after('<div style="display: none" id="poip_colorbox"></div>');
			
			var colorbox_images = [];

			var visible_images = this_object.getRefreshColorboxImagesVisible();
			
			visible_images.each(function(){
				var img_href = $(this).attr('href') ;
				if ($.inArray( img_href, colorbox_images) == -1) {
					$('#poip_colorbox').append( this_object.getElementOuterHTML($(this)).replace('colorbox', 'poip_colorbox') );
					colorbox_images.push(img_href);
				}
			});
			
			
			/* add main image to gallery, even if it's not included in additional images */
			if ($.inArray(this_object.getMainImage().parent().attr('href'), colorbox_images) == -1) {
				$('#poip_colorbox').append( this_object.getElementOuterHTML(this_object.getMainImage().parent()).replace('colorbox', 'poip_colorbox') );
				colorbox_images.push(this_object.getMainImage().parent().attr('href'));
			}
			
			// for ava store and, possible, other templates, poip_colorbox should be additionally filled
			$('#poip_colorbox a[href!="#"], #poip_colorbox a[href="#"][data-image]').each(function(){
				if ( !$(this).hasClass('poip_colorbox') ) {
					$(this).addClass('poip_colorbox');
				}
				if ($(this).attr('href') == '#' && $(this).attr('data-image')) {
					$(this).attr('href', $(this).attr('data-image'));
				}
			});
			
			if (typeof($.colorbox) !== 'undefined') {
				$.colorbox.remove();
			}
			
			if ( typeof(this_object.if_beforeColorboxReinit) == 'function' && this_object.if_beforeColorboxReinit() ) {
				return;
			}
			
			if ($.colorbox) {
			
				colorbox_settings = this_object.getColorboxSettings();
			
				$('.poip_colorbox').colorbox(colorbox_settings);
			
				try {
					$('[id^=option-images-]').each( function() {
						
						colorbox_settings['rel'] = $(this).attr('id');
						// more compatible
						$(this).find('a').colorbox(colorbox_settings);
						
					});
				} catch(e) {
					console.debug(e);
					console.debug("colorbox under options gallery error");
				}
			
			}
			
			if ( typeof(this_object.if_triggerAfterColorboxReinit) == 'function' && this_object.if_triggerAfterColorboxReinit() ) {
				// nothing
			} else {
				$('.colorbox').unbind('click');
				//$('.colorbox').unbind('click', this_object.eventColorboxClick);
				$('.colorbox').bind( 'click', function(event) {
					this_object.eventColorboxClick(event, this);
				});
			}
			
		}
	}
	
	poip_product_default.prototype.eventColorboxClick = function(event, element) {
		var this_object = this;
	
		if ( typeof(this_object.replace_eventColorboxClick) == 'function' ) {
			return this_object.replace_eventColorboxClick(event, element);
		}
	
		event.preventDefault();
	
		var this_data = $(element);
		var poip_colorbox = $('a.poip_colorbox[href!="#"]');
		
		for (var i=0; i<poip_colorbox.length; i++) {
			if (this_data.attr('href') == poip_colorbox[i].href || this_data.attr('href') == decodeURIComponent(poip_colorbox[i].href)) {
				$(poip_colorbox[i]).trigger('click');
				break;
			}
		}
	}
	
	poip_product_default.prototype.hrefIsVideo = function(href) {
		var this_object = this;
	
		if ( href ) {
			if ( href.indexOf('https://www.youtube.com')==0 || href.indexOf('http://www.youtube.com')==0
			|| href.indexOf('https://youtube.com')==0 || href.indexOf('http://youtube.com')==0
			|| href.indexOf('https://www.vimeo.com')==0 || href.indexOf('http://www.vimeo.com')==0
			|| href.indexOf('https://vimeo.com')==0 || href.indexOf('http://vimeo.com')==0
			|| href.indexOf('www.youtube.com')==0
			|| href.indexOf('youtube.com')==0
			|| href.indexOf('www.vimeo.com')==0
			|| href.indexOf('vimeo.com')==0 ) {
				return true;
			}
		}
		return false;
	}
	
	poip_product_default.prototype.getAdditionalImageMouseoverHref = function(image_a) {
		var this_object = this;
		
		if ( typeof(this_object.replace_getAdditionalImageMouseoverHref) == 'function' ) {
			return this_object.replace_getAdditionalImageMouseoverHref(image_a);
		}
		
		if ( typeof(this_object.if_getAdditionalImageMouseoverHref) == 'function' ) {
			var if_result = this_object.if_getAdditionalImageMouseoverHref(image_a);
			if ( if_result ) {
				return if_result;
			}
		}
		
		var href = '';
		if ($(image_a).is('img')) {
			href = $(image_a).attr('src');
		} else {
			href = ($(image_a).attr('href') && $(image_a).attr('href')!='#') ? $(image_a).attr('href') : $(image_a).attr('data-image') ;
		}
		
		return href;
	}
	
	poip_product_default.prototype.eventAdditionalImageMouseover = function(image_a) {
		var this_object = this;
		
		if ( typeof(this_object.if_eventAdditionalImageMouseover) == 'function' && this_object.if_eventAdditionalImageMouseover(image_a) ) {
			return;
		}
		
		if ( typeof(this_object.additional_startOfEventAdditionalImageMouseover) == 'function' ) {
			this_object.additional_startOfEventAdditionalImageMouseover(image_a);
		}
	
		var href = this_object.getAdditionalImageMouseoverHref(image_a);
		
		var data_image = $(image_a).attr('data-image');
		
		if ( this_object.hrefIsVideo(href) ) {
			return;
		}
		
		for (var i=0;i<poip_images.length;i++) {
			
			if ( (poip_images[i]['popup'] && poip_images[i]['popup'] == href) || (poip_images[i]['thumb'] && poip_images[i]['thumb'] == href)
			|| (poip_images[i]['popup'] && poip_images[i]['popup'] == data_image) || (poip_images[i]['main'] && poip_images[i]['main'] == data_image ) ) {
				
				if ( this_object.useMainImageUpdatingOnMouseover() ) {
					this_object.setMainImage(poip_images[i]['main'], poip_images[i]['popup']);
				}
				this_object.updateZoomImage(poip_images[i]['popup']);
		
				break;
			}
		}
		
		if ( typeof(this_object.additional_endOfEventAdditionalImageMouseover) == 'function' ) {
			this_object.additional_endOfEventAdditionalImageMouseover(image_a);
		}
		
		this_object.refreshPopupImages();
	}
	
	poip_product_default.prototype.setDefaultOptionsByURL = function(value) {
		var this_object = this;
		
		var poip_ov = false;		
		if (poip_ov) {
			this_object.setProductOptionValue(poip_ov);
		}
		
		// for Yandex sync module by Toporchillo
		var hash = window.location.hash;
		if (hash) {
			var hashpart = hash.split('#');
			var hashvals = hashpart[1].split('-');
			for (i=0; i<hashvals.length; i++) {
				if ( !hashvals.hasOwnProperty(i) ) continue;
				
				this_object.setProductOptionValue(hashvals[i]);
				
				/*
				$('div.options').find('select option[value="'+vals[i]+'"]').parent().find('option').removeAttr('selected');
				$('div.options').find('select option[value="'+vals[i]+'"]').attr('selected', true).parent().trigger('change');
				$('div.options').find('input[type="radio"][value="'+vals[i]+'"]').attr('checked', true).trigger('click');
				*/
			}
		}
		
	}
	
	poip_product_default.prototype.setProductOptionValue = function(value) {
		var this_object = this;
	
		var $option_element = $('select[name^="'+this_object.option_prefix+'["] option, input:radio[name^="'+this_object.option_prefix+'["], input:checkbox[name^="'+this_object.option_prefix+'["]').filter('[value="'+value+'"]:not(:disabled)');
		if ( !$option_element.length ) {
			return;
		}
		
		// Journal2 compatibility
		if ($('.option ul li[data-value='+value+']').length) {
			$('.option ul li[data-value='+value+']').click();
			return;
		}
	
		// Product Block Option compatibility
		if ( $('a[option-value='+value+']').length ) {
			$('a[option-value='+value+']').click();
			return;
		}
	
		
		if ( typeof(this_object.if_setProductOptionValue) == 'function' && this_object.if_setProductOptionValue(value, $option_element) ) {
			return;
		}
	
		if ( $option_element.is('option') ) { // select
			$option_element.parent().val(value);
			$option_element.parent().trigger('change');
			
			return;
		} else { // radio or checkbox
			$option_element.prop('checked', true);
			$option_element.trigger('change');
			return;
		}
		
		/*
		var options = $('select[name^="'+this_object.option_prefix+'["]').children('option[value="'+value+'"]:not(:disabled)');
		for (var i=0; i<options.length;i++) {
			
			$(options[i]).parent().val(value);
			$(options[i]).parent().trigger('change');
			
			return;
		}
		
		var options = $('input[type=radio][name^="'+this_object.option_prefix+'["][value="'+value+'"]:not(:disabled)');
		for (var i=0; i<options.length;i++) {
		
			if ( typeof(this_object.if_afterSetProductOptionValue) == 'function' && this_object.if_afterSetProductOptionValue(options[i]) ) {
				return;
			}
		
			$(options[i]).prop('checked', true);
			$(options[i]).trigger('change');
			return;
		}
		
		var options = $('input[type=checkbox][name^="'+this_object.option_prefix+'["][value="'+value+'"]:not(:disabled)');
		for (var i=0; i<options.length;i++) {
			
			$(options[i]).prop('checked', true);
			$(options[i]).trigger('change');
			return;
		}
		*/
	}
	
	
	poip_product_default.prototype.externalOptionChange = function() {
		var this_object = this;
		
		if (poip_images_by_options) {
			for (var i in poip_images_by_options) {
				if (poip_images_by_options[i] && poip_images_by_options[i].length && poip_images_by_options[i][0]['product_option_id']) {
					var product_option_id = poip_images_by_options[i][0]['product_option_id'];
					$('select, input').filter('[name="'+this_object.option_prefix+'['+product_option_id+']"]').change();
					return;
				}
			}
		}
	}
	
	poip_product_default.prototype.checkEventsForSelects = function(first_time) {
		var this_object = this;

		$('select[name^="'+this_object.option_prefix+'["]').each(function () {
			var select_events = $(this).data('events');
			var found_poip = false;
			
			if (select_events && select_events.change) {
				for (var i=0; i<select_events.change.length; i++) {
					if ( (''+select_events.change[i].handler).indexOf('poip_option_value_selected') != -1 ) {
						found_poip = true;
						break;
					}
				}
			}
			
			if (!found_poip) {
				$(this).change( function(){this_object.eventOptionValueSelect(this);} );
				// event should be called, may be select value is reseted
				if (!first_time) {
					this_object.eventOptionValueSelect(this);
				}
			}
		});
	}
	
	// << MOST CHANGABLE FUNCTIONS
	
	poip_product_default.prototype.useColorboxRefreshing = function() {
		var this_object = this;
		
		if ( typeof(this_object.replace_useColorboxRefreshing) == 'function' ) {
			return this_object.replace_useColorboxRefreshing();
		}
		
		return false;
	}
	
	poip_product_default.prototype.useMainImageUpdatingOnMouseover = function() {
		var this_object = this;
		
		if ( typeof(this_object.replace_useMainImageUpdatingOnMouseover) == 'function' ) {
			return this_object.replace_useMainImageUpdatingOnMouseover();
		}
		
		return true;
	}
	
	// >> MOST CHANGABLE FUNCTIONS
	

--></script>

<script type="text/javascript"><!--
	var console=console||{"log":function(){},"debug":function(){}};
	var poip_options_settings = {"194":{"img_change":"1","img_use":"1","img_limit":"2","img_option":false,"img_category":"1","img_first":"2","img_cart":false,"img_radio_checkbox":false,"dependent_thumbnails":"1"},"193":{"img_change":"1","img_use":"1","img_limit":"2","img_option":false,"img_category":"1","img_first":"2","img_cart":false,"img_radio_checkbox":false,"dependent_thumbnails":"1"}};
	var poip_settings = {"options_images_edit":"0","img_main_to_additional":"0","img_gal":"1","img_change":"1","img_use":"1","img_limit":"2","img_category":"1","img_first":"2","dependent_thumbnails":"1","custom_theme_id":""};
	var poip_images = [{"product_id":"97","image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"1","sort_order":"0","product_option_id":["194"],"product_option_value_id":["472"],"title":"\n\u0426\u0432\u0435\u0442: \u0432\u0438\u043d\u043d\u044b\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"1","sort_order":"1","product_option_id":["194"],"product_option_value_id":["472"],"title":"\n\u0426\u0432\u0435\u0442: \u0432\u0438\u043d\u043d\u044b\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"1","sort_order":"2","product_option_id":["194"],"product_option_value_id":["472"],"title":"\n\u0426\u0432\u0435\u0442: \u0432\u0438\u043d\u043d\u044b\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a.jpg","default_value":"1","sort_order":"3","product_option_id":["194"],"product_option_value_id":["472"],"title":"\n\u0426\u0432\u0435\u0442: \u0432\u0438\u043d\u043d\u044b\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"0","sort_order":"0","product_option_id":["194"],"product_option_value_id":["2619"],"title":"\n\u0426\u0432\u0435\u0442: \u0441\u0438\u043d\u0438\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"0","sort_order":"1","product_option_id":["194"],"product_option_value_id":["2619"],"title":"\n\u0426\u0432\u0435\u0442: \u0441\u0438\u043d\u0438\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"0","sort_order":"2","product_option_id":["194"],"product_option_value_id":["2619"],"title":"\n\u0426\u0432\u0435\u0442: \u0441\u0438\u043d\u0438\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"}];
	var poip_images_by_options = {"472":[{"image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7.jpg","thumb":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7.jpg","srt":"0","product_option_id":"194","option_id":"1","option_value_id":"12","default_value":"1","option_name":"\u0426\u0432\u0435\u0442","value_name":"\u0432\u0438\u043d\u043d\u044b\u0439"},{"image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7.jpg","thumb":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7.jpg","srt":"1","product_option_id":"194","option_id":"1","option_value_id":"12","default_value":"1","option_name":"\u0426\u0432\u0435\u0442","value_name":"\u0432\u0438\u043d\u043d\u044b\u0439"},{"image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7.jpg","thumb":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7.jpg","srt":"2","product_option_id":"194","option_id":"1","option_value_id":"12","default_value":"1","option_name":"\u0426\u0432\u0435\u0442","value_name":"\u0432\u0438\u043d\u043d\u044b\u0439"},{"image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a.jpg","thumb":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7.jpg","srt":"3","product_option_id":"194","option_id":"1","option_value_id":"12","default_value":"1","option_name":"\u0426\u0432\u0435\u0442","value_name":"\u0432\u0438\u043d\u043d\u044b\u0439"}],"2619":[{"image":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7.jpg","thumb":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7.jpg","srt":"0","product_option_id":"194","option_id":"1","option_value_id":"63","default_value":"0","option_name":"\u0426\u0432\u0435\u0442","value_name":"\u0441\u0438\u043d\u0438\u0439"},{"image":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7.jpg","thumb":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7.jpg","srt":"1","product_option_id":"194","option_id":"1","option_value_id":"63","default_value":"0","option_name":"\u0426\u0432\u0435\u0442","value_name":"\u0441\u0438\u043d\u0438\u0439"},{"image":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7.jpg","thumb":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7.jpg","srt":"2","product_option_id":"194","option_id":"1","option_value_id":"63","default_value":"0","option_name":"\u0426\u0432\u0435\u0442","value_name":"\u0441\u0438\u043d\u0438\u0439"}]};
	var poip_product_option_ids = ["194"];
	var poip_product_images = [{"product_id":"97","image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"1","sort_order":"0","product_option_id":["194"],"product_option_value_id":["472"],"title":"\n\u0426\u0432\u0435\u0442: \u0432\u0438\u043d\u043d\u044b\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa6-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"1","sort_order":"1","product_option_id":["194"],"product_option_value_id":["472"],"title":"\n\u0426\u0432\u0435\u0442: \u0432\u0438\u043d\u043d\u044b\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa7-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"1","sort_order":"2","product_option_id":["194"],"product_option_value_id":["472"],"title":"\n\u0426\u0432\u0435\u0442: \u0432\u0438\u043d\u043d\u044b\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_b9d8dfa8-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a.jpg","default_value":"1","sort_order":"3","product_option_id":["194"],"product_option_value_id":["472"],"title":"\n\u0426\u0432\u0435\u0442: \u0432\u0438\u043d\u043d\u044b\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/ed\/ed52b78b-8bdb-11e7-8855-14dae9e311d7_08cf5e6d-64d0-11e8-a2e8-00155d747d1a-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"0","sort_order":"0","product_option_id":["194"],"product_option_value_id":["2619"],"title":"\n\u0426\u0432\u0435\u0442: \u0441\u0438\u043d\u0438\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfaf-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"0","sort_order":"1","product_option_id":["194"],"product_option_value_id":["2619"],"title":"\n\u0426\u0432\u0435\u0442: \u0441\u0438\u043d\u0438\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfad-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"},{"product_id":"97","image":"catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7.jpg","default_value":"0","sort_order":"2","product_option_id":["194"],"product_option_value_id":["2619"],"title":"\n\u0426\u0432\u0435\u0442: \u0441\u0438\u043d\u0438\u0439","popup":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-837x1256.jpg","thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-70x105.jpg","main":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-558x837.jpg","option_thumb":"https:\/\/evadavidova.ru\/image\/cache\/catalog\/image1C\/b6\/b6fbe2e6-8be0-11e7-8855-14dae9e311d7_b9d8dfae-e4b4-11e7-8d98-14dae9e311d7-50x50.jpg"}];
	
	if ( typeof(poip_images2) != 'undefined' ) {
		poip_images = poip_images2;
	}
	
	var poip_theme_name = 'logancee';
	
	
	
//--></script>  						<script  type = "text/javascript" ><!--
							if ( typeof(poip_product_default) != 'undefined' ) { 
								var poip_product = new poip_product_default();
							}
						//--></script>
						      <!-- >> Product Option Image PRO module -->
      
<!-- << Related Options / Связанные опции  -->
			
						
				 
					<style>
						.ro_option_disabled { color: #e1e1e1!important; }
					</style>
				
																	
	
					<script type="text/javascript">

function ro_getCommonFunctions(ro_instance) {
		
	var ro_functions = {
	
		// << Product Image Option DropDown compatibility
		piodd_setValue : function(product_option_id, value) { // ro_piodd_set_value
		
			var radio_elems = ro_instance.getOptionElement('input[type=radio][name="'+ro_instance.option_prefix+'['+product_option_id+']"]');
			if (radio_elems.length) {
				var piodd_option_div = radio_elems.closest('div[id^=option-]').find('[id^=image-option]');
				if (piodd_option_div.length) {
					
					piodd_option_div.find('a.dd-option').removeClass('dd-option-selected');
					piodd_option_div.find('input.dd-selected-value').val(value);
					if (value) {
						var piodd_selected_a = piodd_option_div.find('input.dd-option-value[value='+value+']').parent().addClass('dd-option-selected');
						piodd_option_div.find('a.dd-selected').html('');
						piodd_option_div.find('a.dd-selected').append( piodd_selected_a.find('img').clone().removeClass('dd-option-image').addClass('dd-selected-image') );
						piodd_option_div.find('a.dd-selected').append( piodd_selected_a.find('label').clone().removeClass('dd-option-text').addClass('dd-selected-text') );
					} else {
						if (ro_piodd_select_texts[product_option_id]) {
							piodd_option_div.find('a.dd-selected').html(ro_piodd_select_texts[product_option_id]);
						}
					}
				}
			}
		},
		// >> Product Image Option DropDown compatibility
		
		clearOptions : function() { // ro_clear_options
		
			ro_instance.getOptionElement('input[type=radio][name^="'+ro_instance.option_prefix+'"]:checked').each(function(){
				var product_option_id = ro_instance.getProductOptionIdFromName($(this).attr('name'));
				ro_instance.setOptionValue(product_option_id, ''); // compatible also with PIODD
			});
		
			ro_instance.getOptionElement('select[name^="'+ro_instance.option_prefix+'"]').val('');
			
			ro_instance.getOptionElement('textarea[name^="'+ro_instance.option_prefix+'"]').val('')
			
			ro_instance.getOptionElement('input[type=text][name^="'+ro_instance.option_prefix+'"]').val('');
			
			ro_instance.getOptionElement('input[type=checkbox][name^="'+ro_instance.option_prefix+'"]').prop('checked', false);
			
			ro_instance.getOptionElement('input[type=hidden][name^="'+ro_instance.option_prefix+'"]').val('')
			
			if ( typeof(ro_instance.controlAccessToValuesOfAllOptions) == 'function' ) {
				ro_instance.controlAccessToValuesOfAllOptions();
			}
			
			/*
			if ( typeof(ro_options_values_access) == 'function' ) {
				ro_options_values_access();
			}
			*/
			ro_functions.updateViewOfBlockOptions();
			ro_functions.updateViewOfJournalPushButtons();
			
			$('#input-quantity, input[name="quantity"]').change();
			
						
			// Quantity per options
			if ( typeof(qpo_resetQuantities) == 'function' ) {
				qpo_resetQuantities( 2 ); // to defaults
			}
			
			// Improved Options - option description compatibility
			if ( typeof(improvedoptions_show_description) == 'function' ) {
				$('select[name^="'+ro_instance.option_prefix+'"], input:radio[name^="'+ro_instance.option_prefix+'"], input:checkbox[name^="'+ro_instance.option_prefix+'"]').each(function(){
					improvedoptions_show_description(this);
				});
			}
			
			// Improved Options - set default value after reset 
			if ( typeof(improvedoptions_set_defaults) == 'function' ) {
				improvedoptions_set_defaults();
			}
			
			/*
			// Parent-child options - compatibility
			if ( typeof(pcop_check_visibility) == 'function' ) {
				pcop_check_visibility();
			}
			
			// old Product Option Image PRO compatibility
			if ( typeof(poipExternalOptionChange)=='function' ) {
				poipExternalOptionChange();
			}
			// new Product Option Image PRO compatibility
			if ( typeof(poip_product)!='undefined' && typeof(poip_product.externalOptionChange) == 'function' ) {
				poip_product.externalOptionChange();
			}
			
			// Live Price
			if ( typeof(liveprice_recalc) == 'function' ) {
				liveprice_recalc(100);
			}
			*/
			
			ro_instance.executeFunctionsFromOtherExtensionsOnOptionChange();
			
			return false;
		},
		
		// Product Block Option & Product Color Option compatibility
		// make option block selected (the same as in original input/select)
		updateViewOfBlockOptions : function() { // ro_set_block_options
			if (ro_instance.use_block_options) {
			
				// Product Block Option & Product Color Option text clear
				ro_instance.getOptionElement('.options span[id^="option-text-"]').html('');
				//$('.option span[id^="option-text-"]').html('');
				
				ro_instance.getOptionElement('select[name^="'+ro_instance.option_prefix+'["]').find('option').each( function () {
					var poid = ro_instance.getProductOptionIdFromName($(this).parent().attr('name'));
					//$(this).parent().attr('name').substr(7, $(this).parent().attr('name').length-8);
					
					// Product Block Option
					// disable all SELECT blocks
					ro_instance.getOptionElement('a[id^="block-"][option-text-id$="-'+poid+'"]').removeClass('block-active');
					if ($(this).parent().val()) {
						ro_instance.getOptionElement('a[id^="block-"][option-text-id$="-'+poid+'"][option-value="'+$(this).parent().val()+'"]').addClass('block-active').click();
					}
					
					// Product Color Option
					ro_instance.getOptionElement('a[id^="color-"][option-text-id$="-'+poid+'"]').removeClass('color-active');
					if ($(this).parent().val()) {
						ro_instance.getOptionElement('a[id^="color-"][option-text-id$="-'+poid+'"][optval="'+$(this).parent().val()+'"]').addClass('color-active').click();
					}
					
				});
				
				// block options use RADIOs for images
				ro_instance.getOptionElement('input[type=radio][name^="'+ro_instance.option_prefix+'["]').each( function () {
					var poid = ro_instance.getProductOptionIdFromName($(this).attr('name'));
					//$(this).attr('name').substr(7, $(this).attr('name').length-8);
					
					// Product Block Option
					// disable only current RADIO block
					ro_instance.getOptionElement('a[id^="block-"][option-text-id$="-'+poid+'"][option-value="'+$(this).val()+'"]').removeClass('block-active');
					if ($(this).is(':checked')) {
						ro_instance.getOptionElement('a[id^="block-"][option-text-id$="-'+poid+'"][option-value="'+$(this).val()+'"]').addClass('block-active').click();
					}
					
					// Product Color Option
					ro_instance.getOptionElement('a[id^="color-"][option-text-id$="-'+poid+'"][optval="'+$(this).val()+'"]').removeClass('color-active');
					if ($(this).is(':checked')) {
						ro_instance.getOptionElement('a[id^="color-"][option-text-id$="-'+poid+'"][optval="'+$(this).val()+'"]').addClass('color-active').click();
					}
					
				});
			}
		},
		
		// Journal2 compatibility
		// make option block selected (the same as in original input/select)
		updateViewOfJournalPushButtons : function() { // ro_set_journal2_options
			
			if (ro_instance.ro_theme_name == 'journal2') {
				ro_instance.getOptionElement('select[name^="'+ro_instance.option_prefix+'["]').find('option').each( function () {
					var poid = $(this).parent().attr('name').substr(7, $(this).parent().attr('name').length-8);
					if ($(this).parent().val()) {
						$(this).parent().parent().find('li[data-value='+$(this).parent().val()+']').removeClass('selected').addClass('selected');
					} else {
						$(this).parent().parent().find('li[data-value]').removeClass('selected');
					}
				});
				
				// block options use RADIOs for images
				ro_instance.getOptionElement('input[type=radio][name^="'+ro_instance.option_prefix+'["]').each( function () {
					var poid = $(this).attr('name').substr(7, $(this).attr('name').length-8);
					// turn off only current block for RADIO
					//$(this).parent().find('li[data-value]').removeClass('selected');
					
					if ($(this).is(':checked')) {
						$('#input-option'+poid).parent().find('li[data-value='+$(this).val()+']').removeClass('selected').addClass('selected');
					} else {
						$('#input-option'+poid).parent().find('li[data-value='+$(this).val()+']').removeClass('selected');
					}
				});
			}
		},
		
		journal2_makeOptionValueSelected : function(product_option_value_id) { // ro_journal2_set_value
		
			if ( ro_instance.ro_theme_name == 'journal2' && $('li[data-value="'+product_option_value_id+'"]').length) {
				
				var push_button_elem = $('li[data-value="'+product_option_value_id+'"]');
		
				push_button_elem.siblings('li').removeClass('selected');
				push_button_elem.removeClass('selected').addClass('selected');
				
			}
		},
		
		initBasic : function() { // ro_init_basic
									$(document).ready( function() {
															$('#product #input-quantity').parent().before('<div class="form-group"><a href="#" id="clear_options">Очистить параметры</a></div>');
													});
										
					$(document).on('click', '#clear_options', function(e){
						e.preventDefault();
						ro_functions.clearOptions();
					});
					
					},
	}
	//ro_init_basic();
	return ro_functions;
}
	
</script>				
								
				
									
					<script type="text/javascript">

function ro_getSpecificFunctions(ro_instance) {

	var ro_functions = {
		stockControl : function(add_to_cart, start_now) { // ro_stock_control
		
			if ( ro_instance.timer_ro_stock_control ) {
				clearTimeout(ro_instance.timer_ro_stock_control);
			}
		
						
			if ( !start_now ) {
				ro_instance.timer_ro_stock_control = setTimeout(function(){ // to avoid multiple calls
					ro_functions.stockControl(add_to_cart, true);
				}, 50);
				return;
			}
		
			var erros_msg = 'В корзину можно добавить только %s (для выбранного сочетания опций)';
			
			var options_values = ro_instance.getOptionValues([]);
			//var roids = ro_instance.getCurrentROIds(options_values);
			
			$('.alert-warning, .alert-warning').remove();
						if ( $('#quantity_wanted').length ) { // themes like fastor
				$('#quantity_wanted').parent().parent().find('.text-danger').remove();
			}
			
			if ( ro_instance.ro_data && ro_instance.ro_data != [] && ro_instance.ro_data != {}) {
			//if (ro_exists) {
			
				ro_stock_control_last_call = (new Date()).getTime();
			
				$.ajax({
						url: 'index.php?route=module/related_options/get_ro_free_quantity&product_id=97&call='+ro_stock_control_last_call,
						type: 'post',
						dataType: 'json',  
						data: $('select, input:radio:checked, input[type="text"]').filter('[name^="'+ro_instance.option_prefix+'"], [name^="quantity_per_option["]'),
						cache: false,      
						success: function (json) {
						
							if ( json && typeof(json['call']) != 'undefined' && json['call'] != ro_stock_control_last_call ) {
								return;
							}
							
							if ( ro_instance.input_quantity_per_options.length ) {
								$('#ro_stock_alert').remove();
							}
						
							var allow_add_to_cart = true;
							if ( json && json['quantity'] !== false ) {
								var ro_quantity = json['quantity'];
								var quantity = $('input[type=text][name=quantity]').val();
								if (parseInt(ro_quantity) < parseInt(quantity) ) {
									allow_add_to_cart = false;
									var alert_message = erros_msg.replace('%s',parseInt(ro_quantity));
									$('#ro_stock_alert').remove();
																			if ( $('#input-quantity').length && $('#input-quantity').closest('.tb_purchase_button').length ) { // themes like BurnEngine Shoppica
											$('#input-quantity').closest('.tb_purchase_button').after('<div class="alert alert-warning" id="ro_stock_alert">' + alert_message + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
										} else if ( $('#input-quantity').length ) { // standard
											$('#input-quantity').parent().after('<div class="alert alert-warning" id="ro_stock_alert">' + alert_message + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
										} else if ( $('#quantity_wanted').length ) { // themes like fastor
											$('#quantity_wanted').parent().parent().append('<div class="text-danger" id="ro_stock_alert">' + alert_message + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
										}
																		
								}
							}
							if ( json && typeof(json['quantity_per_option_value']) != 'undefined' && json['quantity_per_option_value'] ) {
								$('.alert-warning, .alert-warning, .text-danger').remove();
								// specific notification for quantity input/select per option value
								for ( var product_option_value_id in json['quantity_per_option_value'] ) {
									if ( !json['quantity_per_option_value'].hasOwnProperty(product_option_value_id) ) continue;
									var max_quantity_per_value = json['quantity_per_option_value'][product_option_value_id]; 
									$('[name^="quantity_per_option["][data-value="'+product_option_value_id+'"]').closest('.row').after('<div class="text-danger">' + erros_msg.replace('%s',parseInt(max_quantity_per_value)) + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
									allow_add_to_cart = false;
								}
							} 
																		
							if (add_to_cart && allow_add_to_cart) {
								$('#button-cart').attr('allow_add_to_cart','allow_add_to_cart');
								$('#button-cart').click();
							}
							
						},
						error: function(error) {
							console.log(error);
						}
				});
			} else { // if there's no selected related options combination - use standard algorithm
				if (add_to_cart) {
					$('#button-cart').attr('allow_add_to_cart','allow_add_to_cart');
					$('#button-cart').click();
				}
			}
		},
		
		updateModel : function(){ // ro_set_model
		
			var options_values = ro_instance.getOptionValues([]);
			var ro_ids = ro_instance.getCurrentROIds(options_values);
			var product_model = "5509";
			var model = "";
			
			if (ro_ids.length) {
				for (var i in ro_instance.ro_data) {
					var ro_dt = ro_instance.ro_data[i];
					
					for (var j in ro_ids) {
						var ro_id = ro_ids[j];
						if (ro_dt['ro'][ro_id] && ro_dt['ro'][ro_id]['model']) {
							if (ro_instance.ro_settings['spec_model'] == 1) {
								model = ro_dt['ro'][ro_id]['model'];
							} else if (ro_instance.ro_settings['spec_model'] == 2 || ro_instance.ro_settings['spec_model'] == 3) {
								if ( ro_instance.ro_settings['spec_model_delimiter_ro'] && model ) {
									model+= ro_instance.ro_settings['spec_model_delimiter_ro'];
								}
								model+= ro_dt['ro'][ro_id]['model'];
							}
						}
					}
				}
			}
			
			if (model) {
				if (ro_instance.ro_settings['spec_model'] == 3) {
					if ( ro_instance.ro_settings['spec_model_delimiter_product'] ) {
						model = product_model + ro_instance.ro_settings['spec_model_delimiter_product'] + model;
					} else {
						model = product_model + model;
					}
				}
			} else {
				model = product_model;
			}
			$('#product_model').html(model);
		},
		
		updateStockInfo : function() { // ro_set_stock
			
			var stock_text = "Доступность:";
			var stock = "На складе";
			if ( ro_instance.ro_theme_name == 'revolution' ) {
				if ( !stock && $('input.product_max').length ) { // quickorder
					stock = "";
				}
			} else if (ro_instance.ro_theme_name == 'journal2') {
				var journal2_stock_status = "";
			}
			
			var options_values = ro_instance.getOptionValues([]);
			var ro_ids = ro_instance.getCurrentROIds(options_values);
			
			if (ro_ids.length) {
				for (var i in ro_instance.ro_data) {
					var ro_dt = ro_instance.ro_data[i];
					
					for (var j in ro_ids) {
						var ro_id = ro_ids[j];
					
						if (ro_dt['ro'][ro_id] && ro_dt['ro'][ro_id]['stock']) {
							var stock = ro_dt['ro'][ro_id]['stock'];
							
							if (ro_instance.ro_theme_name == 'journal2') {
								var journal2_stock_status = ro_dt['ro'][ro_id]['in_stock'] ? 'instock' : 'outofstock';
							}
							
							break;
						}
					}
				}
			}
			
			if (ro_instance.ro_theme_name == 'journal2') {
				//journal2 uses specific price and stock update, but it's slow and doesn't swith block class (style)
				$('#product .p-stock .journal-stock').removeClass('instock, outofstock').addClass(journal2_stock_status);
				$('#product .p-stock .journal-stock').html(stock);
			} else if ( ro_instance.ro_theme_name == 'revolution' && $('input.product_max').length ) { // quickorder
				$('input.product_max').val(stock);		
			} else if ( ro_instance.ro_theme_name == 'revolution' && $('#product_stock').find('.pr_quantity').length && stock.indexOf('pr_quantity') == -1 ) {
				$('#product_stock').find('.pr_quantity').html(stock);
			} else {
				$('#product_stock').html(stock);
			}
			
		},
		
		// Block Option & journal2 compatibility
		// show/hide enable/disable options block
		updateAvailabilityOfBlockAndJournalPushButtons : function() { // ro_check_visibility_of_block_options
		
			if (ro_instance.use_block_options || ro_instance.ro_theme_name == 'journal2') {
				
				var available_values = [];
				
				// block options use SELECTs for select & radio
				ro_instance.getOptionElement('select[name^="'+ro_instance.option_prefix+'["]').find('option').each( function () {
					
					if ($(this).val()) {
						if (ro_instance.hide_inaccessible) {
							available_values.push( $(this).val() );
						} else {
							if (! $(this).attr('disabled')) {
								available_values.push( $(this).val() );
							}
						}
					}
					
				});
				
				// block options use RADIOs for images
				ro_instance.getOptionElement('input[type=radio][name^="'+ro_instance.option_prefix+'["]').each( function () {
					
					if (ro_instance.hide_inaccessible) {
						if ($(this)[0].style.display != 'none') {
							available_values.push( $(this).val() );
						}
					} else {
						if (!$(this).attr('disabled')) {
							available_values.push( $(this).val() );
						}
					}
					
				});
				
				// Product Block Option Module
				if ( ro_instance.use_block_options) {
					ro_instance.getOptionElement('a[id^=block-option],a[id^=block-image-option]').each( function () {
						if ($.inArray($(this).attr('option-value'), available_values) == -1) {
							$(this).removeClass('block-active');
							if (ro_instance.hide_inaccessible) {
								$(this).hide();
							} else {
								if (!$(this).attr('disabled')) {
									$(this).attr('disabled', true);
									$(this).fadeTo("fast", 0.2);
								}
							}
						} else {
							if (ro_instance.hide_inaccessible) {
								$(this).show();
							} else {
								if ($(this).attr('disabled')) {
									$(this).attr('disabled', false);
									$(this).fadeTo("fast", 1);
								}
							}
						}
						
					} );
					ro_instance.getOptionElement('a[id^=color-option]').each( function () {
						if ($.inArray($(this).attr('optval'), available_values) == -1) {
							$(this).removeClass('color-active');
							if (ro_instance.hide_inaccessible) {
								$(this).hide();
							} else {
								if (!$(this).attr('disabled')) {
									$(this).attr('disabled', true);
									$(this).fadeTo("fast", 0.2);
								}
							}
						} else {
							if (ro_instance.hide_inaccessible) {
								$(this).show();
							} else {
								if ($(this).attr('disabled')) {
									$(this).attr('disabled', false);
									$(this).fadeTo("fast", 1);
								}
							}
						}
					} );
				}
				
				// Journal2
				if ( ro_instance.ro_theme_name == 'journal2' ) {
				
					$('#product').find('li[data-value]').each(function() {
						if ($.inArray($(this).attr('data-value'), available_values) == -1) {
							$(this).removeClass('selected');
							if (ro_instance.hide_inaccessible) {
								$(this).hide();
							} else {
								if (!$(this).attr('disabled')) {
									$(this).attr('disabled', true);
									$(this).fadeTo("fast", 0.2);
								}
							}
						} else {
							if (ro_instance.hide_inaccessible) {
								$(this).show();
							} else {
								if ($(this).attr('disabled')) {
									$(this).attr('disabled', false);
									$(this).fadeTo("fast", 1);
								}
							}
						}
						
						// change standart Journal2 function
						$(this).unbind('click');
						
						
						$(this).click(function () {
							if ($(this).attr('disabled')) {
								return;
							}
							var product_option_value_id = $(this).attr('data-value');
							
							$(this).siblings().removeClass('selected');
							$(this).addClass('selected');
							$(this).parent().siblings('select').find('option[value="' + product_option_value_id + '"]').attr('selected', 'selected');
							$(this).parent().siblings('select').trigger('change');
							
							$(this).parent().parent().find('.radio input[type=radio][name^="'+ro_instance.option_prefix+'"]').attr('checked', false);
							$(this).parent().parent().find('.radio input[type=radio][name^="'+ro_instance.option_prefix+'"][value="'+product_option_value_id+'"]').attr('checked', true).trigger('change');
							
							if (Journal.updatePrice) {
								Journal.updateProductPrice();
							}
							// compatibility with Product Option Image extension (by another developer)
							if ( typeof(selectvalue) == 'function' ) {
								selectvalue(product_option_value_id);
							}
							
						});
					});
				}
			}
		},
		
		// << EVENT/TRIGGER FUNCTIONS
		event_setOptionValue_after : function(event, product_option_id, product_option_value_id, $touched_elems) { // ro_event_setOptionValue_after
			if ( $touched_elems && $touched_elems.length && $touched_elems.is(':radio') ) {
									if ( ( !radio_elems.is(':visible') || radio_elems.css('visibility') == 'hidden' ) && radio_elems.siblings('span').length ) {
						radio_elems.each(function(){
							$(this).siblings('span:first').removeClass('active');
						});
						if ( product_option_value_id ) {
							radio_elem.siblings('span:first').addClass('active');
						}
					}
							}
			ro_instance.common_fn.piodd_setValue(product_option_id, product_option_value_id);
			ro_instance.common_fn.journal2_makeOptionValueSelected(product_option_value_id);
		},
		
		event_init_after : function(event) { // ro_event_init_after
			
						
			ro_instance.getOptionElement('[name^="quantity_per_option["]').change(function(){
				ro_functions.stockControl(0);
			});
			
			$("input[type=text][name=quantity]").change(function(){
				ro_functions.stockControl(0);
			});
			
			if (ro_instance.ro_theme_name == 'journal') { // compatibility for live price update with specials in related options
		
				var div_prod_opt = $('div.product-options');
			
				if (div_prod_opt.length == 1) {
					if ( div_prod_opt.find('div.price').find('span.product-price').length ) {
						div_prod_opt.find('div.price').find('span.product-price').after('<span class="price-old" style="display: none"></span><span class="price-new" style="display: none"></span>');
					} else if ($('div.price').find('span.price-old').length) {
						div_prod_opt.find('div.price').find('span.price-old').before('<span class="product-price" itemprop="price" style="display: none"></span>');
					}
					
					setInterval( function() {
						if ( div_prod_opt.find('div.price').find('span.product-price').html() && div_prod_opt.find('div.price').find('span.price-old').html() && div_prod_opt.find('div.price').find('span.price-new').html() ) {
							if ( div_prod_opt.find('div.price').find('span.price-old').html() == div_prod_opt.find('div.price').find('span.price-new').html()
								|| Number($('div.product-options').find('div.price').find('span.price-new').html().replace(/\D/g, '')) == 0 ) {
								div_prod_opt.find('div.price').find('span.price-old').hide();
								div_prod_opt.find('div.price').find('span.price-new').hide();
								div_prod_opt.find('div.price').find('span.product-price').show();
							} else {
								div_prod_opt.find('div.price').find('span.price-old').show();
								div_prod_opt.find('div.price').find('span.price-new').show();
								div_prod_opt.find('div.price').find('span.product-price').hide();
							}
						}
					}, 200 );
				}
			}
		},
		
		event_setAccessibleOptionValues_select_after : function (event, product_option_id) {
			
			var $select_element = ro_instance.getOptionElement('select[name="'+ro_instance.option_prefix+'['+product_option_id+']"]');
			
						
			if ( $select_element.data('_styler') ) {
				$select_element.trigger('refresh');
			}
			
			// nice-select
			if ( $select_element.next().is('.nice-select') && typeof($.fn.niceSelect) == 'function' ) {
				$select_element.niceSelect('update');
			}
			
		},
		
		event_setAccessibleOptionValues_radioUncheck_after : function(event, elem_to_uncheck) {
			if ( elem_to_uncheck.length ) {
				if ( ro_instance.ro_theme_name == 'fastor' && elem_to_uncheck.siblings('span').length && ( !elem_to_uncheck.is(':visible') || elem_to_uncheck.css('visibility') == 'hidden' ) ) {
				// specific selectors - button-style
					elem_to_uncheck.siblings('span').removeClass('active');
				}
				if ( elem_to_uncheck.data('iCheck') ) { // radio and checkboxes nicer
					elem_to_uncheck.iCheck();
				}
			}
			// << Product Image Option DropDown compatibility
			var option_id = ro_instance.getProductOptionIdFromName( elem_to_uncheck.attr('name') );
			ro_instance.common_fn.piodd_setValue(option_id, '');
			// >> Product Image Option DropDown compatibility
		},
		
		event_setAccessibleOptionValues_radioToggle_after : function(event, option_id, $radio) {
			
			// << Product Image Option DropDown compatibility
			var piodd_option_div = $('#image-option-'+option_id);
			var piodd_value = piodd_option_div.find('ul.dd-options input.dd-option-value[value='+$radio.val()+']');
			if (piodd_value.length) {
				piodd_value.parent().toggle(!option_value_disabled);
			}
			// >> Product Image Option DropDown compatibility
			
		},
		
		event_setAccessibleOptionValues_radioEnableDisable_after : function(event, $radio) {
			
			if ( ro_instance.ro_theme_name == 'theme628' ) {
				// additionally, always opacity = 1
				$radio.siblings('label').fadeTo("fast", 1);
			}
			
			var option_id = ro_instance.getProductOptionIdFromName($radio.attr('name'));
			
			// << Product Image Option DropDown compatibility
			// make copies of unavailable elements, originals hide in hidden div, when element became available again - place it back
			var piodd_option_div = $('#image-option-'+option_id);
			
			if ( piodd_option_div.find('ul.dd-options').length ) {
				
				var ro_hidden_div_id = piodd_option_div.attr('id')+'-ro-hidden';
				
				if ( !$('#'+ro_hidden_div_id).length ) {
					piodd_option_div.after('<div id="'+ro_hidden_div_id+'" style="display: none;"></div>');
				}
				var ro_hidden_div = $('#'+ro_hidden_div_id);
				
				var clone_id = 'clone_'+radio_options[i].value;
				if (option_value_disabled) {
				
					var piodd_value = piodd_option_div.find('ul.dd-options input.dd-option-value[value='+radio_options[i].value+']');
					
					if (piodd_value.length) {
				
						if ( !piodd_option_div.find('[clone_id='+clone_id+']').length ) {
							var ro_clone = piodd_value.parent().clone(true, true).appendTo(ro_hidden_div);
							ro_clone.clone().insertAfter(piodd_value.parent()).attr('clone_id', clone_id).fadeTo('fast', 0.2);
							piodd_value.parent().remove();
						}
					}
					
				} else {
					if (ro_hidden_div.find('[value='+radio_options[i].value+']').length) {
						ro_hidden_div.find('[value='+radio_options[i].value+']').parent().clone(true, true).insertAfter(piodd_option_div.find('[clone_id='+clone_id+']'));
						ro_hidden_div.find('[value='+radio_options[i].value+']').parent().remove();
						piodd_option_div.find('[clone_id='+clone_id+']').remove();
					}
				}
				
			}
			// >> Product Image Option DropDown compatibility
			
		},
		
		event_setSelectedCombination_withAccessControl_after : function(event) {
			ro_instance.common_fn.updateViewOfBlockOptions();
			ro_instance.common_fn.updateViewOfJournalPushButtons();
		},
		
		event_controlAccessToValuesOfAllOptions_after : function(event) {
		
							ro_functions.updateModel();
						
					
					
			ro_functions.stockControl(0);
			ro_functions.updateAvailabilityOfBlockAndJournalPushButtons();
		},
		
		// >> EVENT/TRIGGER FUNCTIONS
		
		// << CUSTOM FUNCTIONS
		custom_radioToggle : function( $radio, option_value_disabled ) {
			if ( ro_instance.ro_theme_name == 'theme630' || ro_instance.ro_theme_name == 'theme638' ) { 
				$radio.parent().toggle(!option_value_disabled);
				
				$radios = $(':radio[name="'+$radio.attr('name')+'"]');
				
				// style change for padding change
				if ( $radios.length && $radios.index($radio) == 0) {
					if (option_value_disabled) {
						if ($radio.parent().hasClass('radio')) {
							$radio.parent().removeClass('radio');
							$radio.parent().addClass('_radio_ro');
						}
					} else {
						if ($radio.parent().hasClass('_radio_ro')) {
							$radio.parent().removeClass('_radio_ro');
							$radio.parent().addClass('radio');
						}
					}
				}
				return true;
				
			} else if ( ro_instance.ro_theme_name == 'shopme' && $radio.parent().hasClass('single-option') ) {
			
				$radio.parent().toggle(!option_value_disabled);
				return true;
			
			} else if ( ro_instance.ro_theme_name == 'sstore' || ro_instance.ro_theme_name == 'storeset' ) { // shop-store (compatible with buttons)
				if ($radio.attr('class') != 'none' ) {
					$radio.toggle(!option_value_disabled);
				}
				var $radio_div = $radio.closest('div.radio, div._radio_ro');
				if ( $radio_div && $radio_div.find(':radio').length == 1 ) {
					$radio_div.toggle(!option_value_disabled);
				}
				var $radio_label = ro_instance.getOptionElement('label[for="'+$radio.attr('id')+'"]');
				if ( !$radio_label.length ) {
					$radio_label = $radio.closest('label'); // images
				}
				$radio_label.toggle(!option_value_disabled);
				/*
				if (option_value_disabled) {
					$radio_label.removeClass('selected').addClass('not-selected');
				}
				*/
				ro_instance.sstore_setOptionsStyles($radio);
				//ro_sstore_setOptionsStyles($radio);
				return true;
				
			} else if ( ro_instance.ro_theme_name == 'unishop' ) { 
				$radio.parent().parent().toggle(!option_value_disabled);
				return true;
			
			} else if ( ro_instance.ro_theme_name == 'royal' && $radio.siblings('span.im_option') ) {
				$radio.parent().parent().toggle(!option_value_disabled); // button selector
				return true;
			}
		},
		
		custom_radioEnableDisable : function( $radio, option_value_disabled ) {
		
					},
		
		sstore_setOptionsStyles : function($radio){
			var $radio_checked = $('input:radio[name="'+$radio.attr('name')+'"]:checked');
			if ($radio.next().is('img') ) { // image
				var sstore_label_img = $radio.closest('label');
				if (sstore_label_img.length) {
					sstore_label_img.closest('.radio').parent().find('label.selected-img').removeClass('selected-img').addClass('not-selected-img');
					$radio_checked.closest('label.not-selected-img').removeClass('not-selected-img').addClass('selected-img');
				}
			} else { // radio
				$radio.siblings('label.selected').removeClass('selected').addClass('not-selected');
				$radio_checked.siblings('label[for="'+$radio_checked.attr('id')+'"].not-selected').removeClass('not-selected').addClass('selected');
			}
		},

// >> CUSTOM FUNCTIONS
	};
	return ro_functions;
}

</script>					
					
				
									<script type="text/javascript">
					
					(function(){	
						var ro_params = {};
						ro_params['ro_settings'] = {"update_quantity":"1","update_options":"1","subtract_stock":"0","required":"0","stock_control":"1","show_clear_options":"2","hide_inaccessible":"1","hide_option":"1","unavailable_not_required":"1","select_first":"0","disable_all_options_variant":"1","ro_use_variants":"1","related_options_version":"2.2.7","spec_model":"1","spec_model_delimiter_product":"","spec_model_delimiter_ro":"","spec_sku":"1","spec_weight":"1","spec_price_prefix":"1","spec_price":"1","spec_price_special":"1"};
						ro_params['ro_data'] = [{"rovp_id":"97","use":"1","rov_id":"1","ro":{"375":{"relatedoptions_id":"375","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"ed52b78b-8bdb-11e7-8855-14dae9e311d7","model":"5509","sku":"ed52b78b-8bdb-11e7-8855-14dae9e311d7#ed52b78c-8bdb-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"472","193":"471"},"discounts":[],"specials":[]},"376":{"relatedoptions_id":"376","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"ed52b78b-8bdb-11e7-8855-14dae9e311d7","model":"5509","sku":"ed52b78b-8bdb-11e7-8855-14dae9e311d7#ed52b78d-8bdb-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"472","193":"473"},"discounts":[],"specials":[]},"377":{"relatedoptions_id":"377","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"ed52b78b-8bdb-11e7-8855-14dae9e311d7","model":"5509","sku":"ed52b78b-8bdb-11e7-8855-14dae9e311d7#ed52b78e-8bdb-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"472","193":"474"},"discounts":[],"specials":[]},"378":{"relatedoptions_id":"378","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"ed52b78b-8bdb-11e7-8855-14dae9e311d7","model":"5509","sku":"ed52b78b-8bdb-11e7-8855-14dae9e311d7#ed52b78f-8bdb-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"472","193":"475"},"discounts":[],"specials":[]},"379":{"relatedoptions_id":"379","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"ed52b78b-8bdb-11e7-8855-14dae9e311d7","model":"5509","sku":"ed52b78b-8bdb-11e7-8855-14dae9e311d7#ed52b790-8bdb-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"472","193":"476"},"discounts":[],"specials":[]},"380":{"relatedoptions_id":"380","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"ed52b78b-8bdb-11e7-8855-14dae9e311d7","model":"5509","sku":"ed52b78b-8bdb-11e7-8855-14dae9e311d7#ed52b791-8bdb-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"472","193":"477"},"discounts":[],"specials":[]},"2933":{"relatedoptions_id":"2933","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7","model":"5509","sku":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7#b6fbe2e7-8be0-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"2619","193":"471"},"discounts":[],"specials":[]},"2934":{"relatedoptions_id":"2934","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7","model":"5509","sku":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7#b6fbe2e8-8be0-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"2619","193":"473"},"discounts":[],"specials":[]},"2935":{"relatedoptions_id":"2935","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7","model":"5509","sku":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7#b6fbe2e9-8be0-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"2619","193":"474"},"discounts":[],"specials":[]},"2936":{"relatedoptions_id":"2936","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7","model":"5509","sku":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7#b6fbe2ea-8be0-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"2619","193":"475"},"discounts":[],"specials":[]},"2937":{"relatedoptions_id":"2937","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7","model":"5509","sku":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7#b6fbe2eb-8be0-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"2619","193":"476"},"discounts":[],"specials":[]},"2938":{"relatedoptions_id":"2938","relatedoptions_variant_product_id":"97","product_id":"97","1C_product_id":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7","model":"5509","sku":"b6fbe2e6-8be0-11e7-8855-14dae9e311d7#b6fbe2ec-8be0-11e7-8855-14dae9e311d7","upc":"","ean":"","location":"","stock_status_id":"0","weight_prefix":"=","weight":"0.00000000","price_prefix":"=","price":"7030.0000","defaultselect":"0","defaultselectpriority":"0","stock_status":null,"product_stock_status":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","in_stock":false,"stock":"","options":{"194":"2619","193":"477"},"discounts":[],"specials":[]}},"options_ids":["194","193"]}];
						ro_params['ro_theme_name'] = 'logancee';
																		
						var $container_of_options = $('body');
												
						var ro_instance = $container_of_options.liveopencart_RelatedOptions(ro_params);
						
						ro_instance.common_fn = ro_getCommonFunctions(ro_instance);
						ro_instance.common_fn.initBasic();
							
												
							var spec_fn = ro_getSpecificFunctions(ro_instance);
						
							// to custom
							ro_instance.use_block_options = ($('a[id^=block-option][option-value]').length || $('a[id^=block-image-option][option-value]').length || $('a[id^=color-][optval]').length);
							
							ro_instance.bind('setOptionValue_after.ro', spec_fn.event_setOptionValue_after);
							ro_instance.bind('init_after.ro', spec_fn.event_init_after);
							ro_instance.bind('setAccessibleOptionValues_select_after.ro', spec_fn.event_setAccessibleOptionValues_select_after);
							ro_instance.bind('setAccessibleOptionValues_radioUncheck_after.ro', spec_fn.event_setAccessibleOptionValues_radioUncheck_after);
							ro_instance.bind('setAccessibleOptionValues_radioToggle_after.ro', spec_fn.event_setAccessibleOptionValues_radioToggle_after);
							ro_instance.bind('setAccessibleOptionValues_radioEnableDisable_after.ro', spec_fn.event_setAccessibleOptionValues_radioEnableDisable_after);
							ro_instance.bind('setSelectedCombination_withAccessControl_after.ro', spec_fn.event_setSelectedCombination_withAccessControl_after);
							ro_instance.bind('controlAccessToValuesOfAllOptions_after.ro', spec_fn.event_controlAccessToValuesOfAllOptions_after);
							
							ro_instance.custom_radioToggle = spec_fn.custom_radioToggle;
							ro_instance.custom_radioEnableDisable = spec_fn.custom_radioEnableDisable;
							
							ro_instance.sstore_setOptionsStyles = spec_fn.sstore_setOptionsStyles;
							
							ro_instance.spec_fn = spec_fn;
							
												
						ro_instance.initRO();
					
					})();
					
					</script>
				
								
			
<!-- >> Related Options / Связанные опции  -->
						
      
<script type="text/javascript"><!--
    $(document).ready(function() {     
        // Form Styler
        setTimeout(function() {
            $('.styleme').styler();
        }, 100) 
    });
//--></script>
<script type="text/javascript"><!--
$('select[name=\'recurring_id\'], input[name="quantity"]').change(function(){
	$.ajax({
		url: 'index.php?route=product/product/getRecurringDescription',
		type: 'post',
		data: $('input[name=\'product_id\'], input[name=\'quantity\'], select[name=\'recurring_id\']'),
		dataType: 'json',
		beforeSend: function() {
			$('#recurring-description').html('');
		},
		success: function(json) {
			$('.alert, .text-danger').remove();
			
			if (json['success']) {
				$('#recurring-description').html(json['success']);
			}
		}
	});
});
//--></script> 
<script type="text/javascript"><!--
$('#button-cart').on('click', function() {
// << Related Options / Связанные опции 
		
		if (!$('#button-cart').attr('allow_add_to_cart')) {
			if ( window.liveopencart && window.liveopencart.related_options_instances && window.liveopencart.related_options_instances.length ) {
				var ro_instances = window.liveopencart.related_options_instances;
				for ( var i_ro_instances in ro_instances ) {
					if ( !ro_instances.hasOwnProperty(i_ro_instances) ) continue;
					
					var ro_instance = ro_instances[i_ro_instances];
					if ( ro_instance.spec_fn && typeof(ro_instance.spec_fn.stockControl) == 'function' ) {
						// currently this function should exist only for one instance (product page)
						ro_instance.spec_fn.stockControl(1);
						return;
					}
					
				}
			}
			//ro_stock_control(1);
			//return;
		}
		$('#button-cart').attr('allow_add_to_cart','');
		
				
// >> Related Options / Связанные опции  
	$.ajax({
		url: 'index.php?route=checkout/cart/add',
		type: 'post',
		data: $('#product input[type=\'text\'], #product input[type=\'hidden\'], #product input[type=\'radio\']:checked, #product input[type=\'checkbox\']:checked, #product select, #product textarea'),
		dataType: 'json',
		beforeSend: function() {
			$('#button-cart').button('loading');
		},
		complete: function() {
			$('#button-cart').button('reset');
		},
		success: function(json) {
			$('.alert, .text-danger').remove();
			$('.form-group').removeClass('has-error');

			if (json['error']) {
				if (json['error']['option']) {
					for (i in json['error']['option']) {
						var element = $('#input-option' + i.replace('_', '-'));
						
						if (element.parent().hasClass('input-group')) {
							element.parent().after('<div class="text-danger">' + json['error']['option'][i] + '</div>');
						} else {
							element.after('<div class="text-danger">' + json['error']['option'][i] + '</div>');
						}
					}
				}
				
				if (json['error']['recurring']) {
					$('select[name=\'recurring_id\']').after('<div class="text-danger">' + json['error']['recurring'] + '</div>');
				}
				
				// Highlight any found errors
				$('.text-danger').parent().addClass('has-error');
			}
					
			if (json['success']) {
  
				parent.$.notify({
					message: json['success'],
					target: '_blank'
				},{
					// settings
					element: 'body',
					position: null,
					type: "info",
					allow_dismiss: true,
					newest_on_top: false,
					placement: {
						from: "top",
						align: "right"
					},
					offset: 20,
					spacing: 10,
					z_index: 2031,
					delay: 5000,
					timer: 1000,
					url_target: '_blank',
					mouse_over: null,
					animate: {
						enter: 'animated fadeInDown',
						exit: 'animated fadeOutUp'
					},
					onShow: null,
					onShown: null,
					onClose: null,
					onClosed: null,
					icon_type: 'class',
					template: '<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-success" role="alert">' +
						'<button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button>' +
						'<span data-notify="message"><i class="fa fa-check-circle"></i>&nbsp; {2}</span>' +
						'<div class="progress" data-notify="progressbar">' +
							'<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>' +
						'</div>' +
						'<a href="{3}" target="{4}" data-notify="url"></a>' +
					'</div>' 
				});
                
                /*
                $("#notification-popupmaster .modal-footer").show();
				$("#notification-popupmaster").modal('show');
				$("#notification-popupmaster .modal-body p").html(json['success']);	
				*/
                
				parent.$('#cart_block #cart_content').load('index.php?route=common/cart/info #cart_content_ajax');
				parent.$('#cart_block #total_price_ajax').load('index.php?route=common/cart/info #total_price');
				parent.$('#cart_block #total_item_ajax').load('index.php?route=common/cart/info #total_item');
			}
		}
	});
});
//--></script> 

<script type="text/javascript"><!--
	$('#button-wishlist').on('click', function() {
		$.ajax({
			url: 'index.php?route=account/wishlist/add',
			type: 'post',
			data: 'product_id=' + 97,
			dataType: 'json',
			success: function(json) {
				if (json['success']) {
					$.notify({
						message: json['success'],
						target: '_blank'
					},{
						element: 'body',
						position: null,
						type: "info",
						allow_dismiss: true,
						newest_on_top: false,
						placement: {
							from: "top",
							align: "right"
						},
						offset: 20,
						spacing: 10,
						z_index: 2031,
						delay: 5000,
						timer: 1000,
						url_target: '_blank',
						mouse_over: null,
						animate: {
							enter: 'animated fadeInDown',
							exit: 'animated fadeOutUp'
						},
						onShow: null,
						onShown: null,
						onClose: null,
						onClosed: null,
						icon_type: 'class',
						template: '<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-success" role="alert">' +
							'<button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button>' +
							'<span data-notify="message"><i class="fa fa-check-circle"></i>&nbsp; {2}</span>' +
							'<div class="progress" data-notify="progressbar">' +
								'<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>' +
							'</div>' +
							'<a href="{3}" target="{4}" data-notify="url"></a>' +
						'</div>' 
					});
				}   
				
				if (json['info']) {
					$.notify({
						message: json['info'],
						target: '_blank'
					},{
						// settings
						element: 'body',
						position: null,
						type: "info",
						allow_dismiss: true,
						newest_on_top: false,
						placement: {
							from: "top",
							align: "right"
						},
						offset: 20,
						spacing: 10,
						z_index: 2031,
						delay: 5000,
						timer: 1000,
						url_target: '_blank',
						mouse_over: null,
						animate: {
							enter: 'animated fadeInDown',
							exit: 'animated fadeOutUp'
						},
						onShow: null,
						onShown: null,
						onClose: null,
						onClosed: null,
						icon_type: 'class',
						template: '<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-info" role="alert">' +
							'<button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button>' +
							'<span data-notify="message"><i class="fa fa-info"></i>&nbsp; {2}</span>' +
							'<div class="progress" data-notify="progressbar">' +
								'<div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>' +
							'</div>' +
							'<a href="{3}" target="{4}" data-notify="url"></a>' +
						'</div>' 
					});
				}   
				
				$('#wishlist-total').html(json['total']);
			}
		});
	});
//--></script>


<script type="text/javascript"><!--
$('.date').datetimepicker({
	pickTime: false
});

$('.datetime').datetimepicker({
	pickDate: true,
	pickTime: true
});

$('.time').datetimepicker({
	pickDate: false
});
		
$('button[id^=\'button-upload\']').on('click', function() {
	var node = this;
	
	$('#form-upload').remove();
	
	$('body').prepend('<form enctype="multipart/form-data" id="form-upload" style="display: none;"><input type="file" name="file" /></form>');
	
	$('#form-upload input[name=\'file\']').trigger('click');
	
	timer = setInterval(function() {
		if ($('#form-upload input[name=\'file\']').val() != '') {
			clearInterval(timer);
			
			$.ajax({
				url: 'index.php?route=tool/upload',
				type: 'post',
				dataType: 'json',
				data: new FormData($('#form-upload')[0]),
				cache: false,
				contentType: false,
				processData: false,
				beforeSend: function() {
					$(node).button('loading');
				},
				complete: function() {
					$(node).button('reset');
				},
				success: function(json) {
					$('.text-danger').remove();
					
					if (json['error']) {
						$(node).parent().find('input').after('<div class="text-danger">' + json['error'] + '</div>');
					}
					
					if (json['success']) {
						alert(json['success']);
						
						$(node).parent().find('input').attr('value', json['code']);
					}
				},
				error: function(xhr, ajaxOptions, thrownError) {
					alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
				}
			});
		}
	}, 500);
});
//--></script> 

<script type="text/javascript">
var ajax_price = function() {
	$.ajax({
		type: 'POST',
		url: 'index.php?route=product/liveprice/index',
		data: $('.product-info input[type=\'text\'], .product-info input[type=\'hidden\'], .product-info input[type=\'radio\']:checked, .product-info input[type=\'checkbox\']:checked, .product-info select, .product-info textarea'),
		dataType: 'json',
			success: function(json) {
			if (json.success) {
				change_price('#price-special', json.new_price.special);
				change_price('#price-tax', json.new_price.tax);
				change_price('#price-old', json.new_price.price);
			}
		}
	});
}

var change_price = function(id, new_price) {
	$(id).html(new_price);
}

$('.product-info input[type=\'text\'], .product-info input[type=\'hidden\'], .product-info input[type=\'radio\'], .product-info input[type=\'checkbox\'], .product-info select, .product-info textarea, .product-info input[name=\'quantity\']').on('change', function() {
	ajax_price();
});
</script>

<script type="text/javascript">
var nitro_xhr;
if (window.XMLHttpRequest){nitro_xhr=new XMLHttpRequest();}
else{nitro_xhr=new ActiveXObject("Microsoft.XMLHTTP");}
nitro_xhr.onreadystatechange=function(){if (nitro_xhr.readyState==4 && nitro_xhr.status==200){var nitroBarWrapper = document.createElement('div'); nitroBarWrapper.innerHTML = nitro_xhr.responseText; document.body.appendChild(nitroBarWrapper);}}
nitro_xhr.open("GET","index.php?route=tool/nitro/getwidget&cachefile=MS1tb2JpbGUtZTdmNmQyNjFjMzRlNWNjZWFmNDQwNmM2Njg1ZjI3YjYuaHRtbA==&render_time=0.11684083938599",true);
nitro_xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");
nitro_xhr.send();
</script>
</body>
</html>
